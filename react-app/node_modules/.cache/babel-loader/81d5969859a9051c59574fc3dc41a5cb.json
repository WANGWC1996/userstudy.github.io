{"ast":null,"code":"import _defineProperty from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wangweicheng/UserStudy/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/wangweicheng/UserStudy/react-app/src/components/Result.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { setActiveComponent, restart } from \"../actions\";\nimport Histogram from \"./Histogram\";\nvar Result = /*#__PURE__*/function (_React$Component) {\n  _inherits(Result, _React$Component);\n  var _super = _createSuper(Result);\n  function Result(props) {\n    var _this;\n    _classCallCheck(this, Result);\n    _this = _super.call(this, props);\n    _this.pickRandom = function (arr, n) {\n      var arrCopy = _toConsumableArray(arr);\n      if (arrCopy.length <= n) return arrCopy;\n      // Shuffle array\n      for (var i = arrCopy.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        // ES6 array element swap\n        var _ref = [arrCopy[j], arrCopy[i]];\n        arrCopy[i] = _ref[0];\n        arrCopy[j] = _ref[1];\n      }\n      return arrCopy.slice(0, n);\n    };\n    _this.downloadFile = function (index) {\n      if (index === 1) {\n        //output\n        _this.setState(function (prevState) {\n          return {\n            output: [].concat(_toConsumableArray(prevState.output), [\"\\n\\n\\n\\nTOP-1\\n\\n\"], _toConsumableArray(_this.state.topSample.map(function (item, i) {\n              return [item.map(function (x) {\n                return x;\n              }), prevState.checkboxValues[\"myCheckbox\".concat(i)], \"\\n\"];\n            }))),\n            checkboxValues: Object.keys(prevState.checkboxValues).reduce(function (result, key) {\n              result[key] = false;\n              return result;\n            }, {})\n          };\n        }, function () {\n          console.log(_this.state.checkboxValues); // 打印最新的checkboxValues状态\n        });\n\n        //top-5 points\n        var top5 = [];\n        for (var i = 0; i < 5; ++i) top5.push(_this.trs[i]);\n        //obtain the index\n        var top5small = [],\n          top5large = [];\n        for (var _i = 5; _i < _this.props.leftPoints.length; ++_i) {\n          if ((_this.props.scores[4] - _this.props.scores[_i]) / _this.props.scores[4] < 0.1) top5small.push(_this.pointsScoreRanking[_i]);else top5large.push(_this.pointsScoreRanking[_i]);\n        }\n        var top5smallSample = _this.pickRandom(top5small, 5);\n        var top5largeSample = _this.pickRandom(top5large, 5);\n        for (var _i2 = 0; _i2 < top5largeSample.length; ++_i2) top5smallSample.push(top5largeSample[_i2]);\n        var top5Samplewithbox = top5smallSample.map(function (idx, i) {\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            key: i,\n            \"data-toggle\": \"tooltip\",\n            title: _this.props.labels[idx],\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            key: 0,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 13\n            }\n          }, idx[0]), /*#__PURE__*/React.createElement(\"td\", {\n            key: 1,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 13\n            }\n          }, idx[1]), /*#__PURE__*/React.createElement(\"td\", {\n            key: 2,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 13\n            }\n          }, idx[2]), /*#__PURE__*/React.createElement(\"td\", {\n            key: 3,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 13\n            }\n          }, idx[3]), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            type: \"checkbox\",\n            id: \"myCheckbox\".concat(i),\n            name: \"myCheckbox\".concat(i),\n            value: \"myValue\",\n            onChange: _this.handleCheckboxChange.bind(_assertThisInitialized(_this)),\n            checked: _this.state.checkboxValues[\"myCheckbox\".concat(i)] || false,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }\n          }), /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"myCheckbox\".concat(i),\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }\n          }, \" Prefer \")));\n        });\n        _this.setState({\n          intro: \"Here are your top-5 favorite cars.\",\n          inst: \"Please compare your favorite top-5 cars and the following cars \\n and indicate if you are interested in the following cars?\",\n          top: top5,\n          topSample: top5smallSample,\n          topSamplewithbox: top5Samplewithbox\n        });\n      } else if (index === 5) {\n        //output\n        _this.state.output.push(\"\\n\\n\\n\\nTOP-5\\n\\n\");\n        for (var _i3 = 0; _i3 < _this.state.topSample.length; ++_i3) {\n          _this.state.output.push(_this.state.topSample[_i3].map(function (x) {\n            return x;\n          }));\n          _this.state.output.push(_this.state.checkboxValues[\"myCheckbox\".concat(5 + _i3)]); //preferred default\n          _this.state.output.push(\"\\n\");\n        }\n        _this.setState({\n          checkboxValues: {}\n        });\n\n        //top-10 points\n        var top10 = [];\n        for (var _i4 = 0; _i4 < 10; ++_i4) top10.push(_this.trs[_i4]);\n        //obtain the index\n        var top10small = [],\n          top10large = [];\n        for (var _i5 = 10; _i5 < _this.props.leftPoints.length; ++_i5) {\n          if ((_this.props.scores[9] - _this.props.scores[_i5]) / _this.props.scores[9] < 0.1) top10small.push(_this.pointsScoreRanking[_i5]);else top10large.push(_this.pointsScoreRanking[_i5]);\n        }\n        var top10smallSample = _this.pickRandom(top10small, 5);\n        var top10largeSample = _this.pickRandom(top10large, 5);\n        for (var _i6 = 0; _i6 < top10largeSample.length; ++_i6) top10smallSample.push(top10largeSample[_i6]);\n        var top10Samplewithbox = top10smallSample.map(function (idx, i) {\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            key: i,\n            \"data-toggle\": \"tooltip\",\n            title: _this.props.labels[idx],\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            key: 0,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 13\n            }\n          }, idx[0]), /*#__PURE__*/React.createElement(\"td\", {\n            key: 1,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 13\n            }\n          }, idx[1]), /*#__PURE__*/React.createElement(\"td\", {\n            key: 2,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 13\n            }\n          }, idx[2]), /*#__PURE__*/React.createElement(\"td\", {\n            key: 3,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 13\n            }\n          }, idx[3]), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            type: \"checkbox\",\n            id: \"myCheckbox\".concat(i),\n            name: \"myCheckbox\".concat(i),\n            value: \"myValue\",\n            onChange: _this.handleCheckboxChange.bind(_assertThisInitialized(_this)),\n            checked: _this.state.checkboxValues[\"myCheckbox\".concat(i)] || false,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }\n          }), /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: \"myCheckbox\".concat(i),\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }\n          }, \" Prefer \")));\n        });\n        _this.setState({\n          intro: \"Here are your top-10 favorite cars.\",\n          inst: \"Please compare your favorite top-10 cars and the following cars \\n and indicate if you are interested in the following cars?\",\n          top: top10,\n          topSample: top10smallSample,\n          topSamplewithbox: top10Samplewithbox\n        });\n      } else {\n        //output\n        _this.state.output.push(\"\\n\\n\\n\\nTOP-10\\n\\n\");\n        for (var _i7 = 0; _i7 < _this.state.topSample.length; ++_i7) {\n          _this.state.output.push(_this.state.topSample[_i7].map(function (x) {\n            return x;\n          }));\n          _this.state.output.push(_this.state.checkboxValues[\"myCheckbox\".concat(_i7)]); //preferred default\n          _this.state.output.push(\"\\n\");\n        }\n        _this.setState({\n          checkboxValues: {}\n        });\n        var blob = new Blob([_this.state.output], {\n          type: 'text/plain'\n        });\n        var url = URL.createObjectURL(blob);\n        var downloadLink = document.createElement('a');\n        downloadLink.href = url;\n        downloadLink.download = 'sample.txt'; // 指定下载文件及类型\n        document.body.appendChild(downloadLink);\n        downloadLink.click();\n        document.body.removeChild(downloadLink);\n        _this.props.showEnd();\n      }\n    };\n    _this.ths = [];\n    _this.props.attributes.forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        attr = _ref3[0],\n        config = _ref3[1];\n      if (_this.props.mask[attr]) {\n        var th = /*#__PURE__*/React.createElement(\"th\", {\n          key: attr,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13,\n            columnNumber: 20\n          }\n        }, attr);\n        _this.ths.push(th);\n      }\n    });\n    _this.ths.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: \"chooseCheckbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 19\n      }\n    }));\n\n    //ranked points withpoints and ranking\n    _this.pointsScoreRanking = [];\n    for (var i = 0; i < _this.props.leftPoints.length; ++i) {\n      var pt = [],\n        index = _this.props.leftPoints[i];\n      for (var j = 0; j < _this.props.candidates[index].length; ++j) pt.push(_this.props.candidates[index][j]);\n      pt.push(_this.props.scores[i]);\n      pt.push(i + 1);\n      _this.pointsScoreRanking.push(pt);\n    }\n\n    //ranked points in html\n    _this.trs = _this.props.leftPoints.map(function (idx, i) {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: i,\n        \"data-toggle\": \"tooltip\",\n        title: _this.props.labels[idx],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      }, _this.props.candidates[idx].map(function (x, j) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: j,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }\n        }, x);\n      }), /*#__PURE__*/React.createElement(\"td\", {\n        key: \"chooseCheckbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }\n      }));\n    });\n\n    //points for presenting\n    var top = [_this.trs[0]];\n    var top1small = [],\n      top1large = [];\n    for (var _i8 = 1; _i8 < _this.props.leftPoints.length; ++_i8) {\n      if ((_this.props.scores[0] - _this.props.scores[_i8]) / _this.props.scores[0] < 0.1) top1small.push(_this.pointsScoreRanking[_i8]);else top1large.push(_this.pointsScoreRanking[_i8]);\n    }\n    var top1smallSample = _this.pickRandom(top1small, 5);\n    var top1largeSample = _this.pickRandom(top1large, 5);\n    for (var _i9 = 0; _i9 < top1largeSample.length; ++_i9) top1smallSample.push(top1largeSample[_i9]);\n    var top1Samplewithbox = top1smallSample.map(function (idx, i) {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: i,\n        \"data-toggle\": \"tooltip\",\n        title: _this.props.labels[idx],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        key: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, idx[0]), /*#__PURE__*/React.createElement(\"td\", {\n        key: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, idx[1]), /*#__PURE__*/React.createElement(\"td\", {\n        key: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, idx[2]), /*#__PURE__*/React.createElement(\"td\", {\n        key: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      }, idx[3]), /*#__PURE__*/React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"myCheckbox\".concat(i),\n        name: \"myCheckbox\".concat(i),\n        value: \"myValue\",\n        onChange: _this.handleCheckboxChange.bind(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"myCheckbox\".concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, \" Prefer \")));\n    });\n    var present = [];\n    for (var _i10 = 0; _i10 < _this.props.leftPoints.length; ++_i10) {\n      present.push(_this.pointsScoreRanking[_i10].map(function (x, j) {\n        return x;\n      }));\n      present.push(\"\\n\");\n    }\n    _this.state = {\n      intro: \"Here is your favorite car.\",\n      inst: \"Please compare your favorite car and the following cars and indicate if you are interested in the following cars?\",\n      ths: _this.ths,\n      top: top,\n      topSample: top1smallSample,\n      topSamplewithbox: top1Samplewithbox,\n      output: present,\n      checkboxValues: {}\n    };\n    return _this;\n  }\n  _createClass(Result, [{\n    key: \"handleCheckboxChange\",\n    value: function handleCheckboxChange(event) {\n      var _event$target = event.target,\n        id = _event$target.id,\n        checked = _event$target.checked;\n      this.setState(function (prevState) {\n        return {\n          checkboxValues: _objectSpread({}, prevState.checkboxValues, _defineProperty({}, id, checked))\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }\n      }, this.state.intro), /*#__PURE__*/React.createElement(\"table\", {\n        className: classNames(\"table\", \"table-hover\", {\n          \"table-fixed\": this.trs.length > 7\n        }),\n        style: {\n          maxWidth: \"40rem\",\n          margin: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }\n      }, this.ths)), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }\n      }, this.state.top)), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }\n      }, this.state.inst), /*#__PURE__*/React.createElement(\"table\", {\n        className: classNames(\"table\", \"table-hover\", {\n          \"table-fixed\": this.trs.length > 7\n        }),\n        style: {\n          maxWidth: \"40rem\",\n          margin: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }\n      }, this.ths)), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }\n      }, this.state.topSamplewithbox)), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        style: {\n          width: \"8rem\"\n        },\n        onClick: function onClick() {\n          return _this2.downloadFile(_this2.state.top.length);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }\n      }, \"Finish\"))));\n    }\n  }]);\n  return Result;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(_ref4) {\n  var labels = _ref4.labels,\n    candidates = _ref4.candidates,\n    leftPoints = _ref4.leftPoints,\n    attributes = _ref4.attributes,\n    mask = _ref4.mask,\n    numLeftPoints = _ref4.numLeftPoints,\n    scores = _ref4.scores;\n  return {\n    labels: labels,\n    candidates: candidates,\n    leftPoints: leftPoints,\n    attributes: attributes,\n    mask: mask,\n    numLeftPoints: numLeftPoints,\n    scores: scores\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    showEnd: function showEnd() {\n      dispatch(setActiveComponent(\"End\"));\n      dispatch(restart());\n    }\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Result);","map":{"version":3,"names":["React","connect","classNames","setActiveComponent","restart","Histogram","Result","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","pickRandom","arr","n","arrCopy","_toConsumableArray","length","i","j","Math","floor","random","_ref","slice","downloadFile","index","setState","prevState","output","concat","state","topSample","map","item","x","checkboxValues","Object","keys","reduce","result","key","console","log","top5","push","trs","top5small","top5large","leftPoints","scores","pointsScoreRanking","top5smallSample","top5largeSample","top5Samplewithbox","idx","createElement","title","labels","__self","_assertThisInitialized","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","id","name","value","onChange","handleCheckboxChange","bind","checked","htmlFor","intro","inst","top","topSamplewithbox","top10","top10small","top10large","top10smallSample","top10largeSample","top10Samplewithbox","blob","Blob","url","URL","createObjectURL","downloadLink","document","href","download","body","appendChild","click","removeChild","showEnd","ths","attributes","forEach","_ref2","_ref3","_slicedToArray","attr","config","mask","th","pt","candidates","top1small","top1large","top1smallSample","top1largeSample","top1Samplewithbox","present","_createClass","event","_event$target","target","_objectSpread","_defineProperty","render","_this2","className","style","maxWidth","margin","width","onClick","Component","mapStateToProps","_ref4","numLeftPoints","mapDispatchToProps","dispatch"],"sources":["/Users/wangweicheng/UserStudy/react-app/src/components/Result.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { setActiveComponent, restart } from \"../actions\";\r\nimport Histogram from \"./Histogram\";\r\n\r\nclass Result extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ths = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        const th = <th key={attr}>{attr}</th>;\r\n        this.ths.push(th);\r\n      }\r\n    });\r\n    this.ths.push(<th key=\"chooseCheckbox\"/>);\r\n\r\n    //ranked points withpoints and ranking\r\n    this.pointsScoreRanking = [];\r\n    for(let i = 0; i < this.props.leftPoints.length; ++i)\r\n    {\r\n      let pt = [], index = this.props.leftPoints[i];\r\n      for(let j = 0; j < this.props.candidates[index].length; ++j)\r\n        pt.push(this.props.candidates[index][j]);\r\n      pt.push(this.props.scores[i]);\r\n      pt.push(i+1);\r\n      this.pointsScoreRanking.push(pt);\r\n    }\r\n\r\n    //ranked points in html\r\n    this.trs = this.props.leftPoints.map((idx, i) => (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n          {this.props.candidates[idx].map((x, j) => (\r\n              <td key={j}>{x}</td>\r\n          ))}\r\n          <td key=\"chooseCheckbox\"/>\r\n        </tr>\r\n    ));\r\n\r\n    //points for presenting\r\n    const top = [this.trs[0]];\r\n    const top1small = [], top1large = [];\r\n    for (let i = 1; i < this.props.leftPoints.length; ++i)\r\n    {\r\n      if ((this.props.scores[0] - this.props.scores[i]) / this.props.scores[0] < 0.1)\r\n        top1small.push(this.pointsScoreRanking[i]);\r\n      else\r\n        top1large.push(this.pointsScoreRanking[i]);\r\n    }\r\n    const top1smallSample = this.pickRandom(top1small, 5);\r\n    const top1largeSample = this.pickRandom(top1large, 5);\r\n    for (let i = 0; i < top1largeSample.length; ++i)\r\n      top1smallSample.push(top1largeSample[i]);\r\n    const top1Samplewithbox = top1smallSample.map((idx, i) => (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n          <td key={0}>{idx[0]}</td>\r\n          <td key={1}>{idx[1]}</td>\r\n          <td key={2}>{idx[2]}</td>\r\n          <td key={3}>{idx[3]}</td>\r\n          <td>\r\n            <input\r\n                type=\"checkbox\"\r\n                id={`myCheckbox${i}`}\r\n                name={`myCheckbox${i}`}\r\n                value=\"myValue\"\r\n                onChange={this.handleCheckboxChange.bind(this)}\r\n            />\r\n            <label htmlFor={`myCheckbox${i}`}> Prefer </label>\r\n          </td>\r\n        </tr>\r\n    ));\r\n\r\n    const present = [];\r\n    for(let i = 0; i < this.props.leftPoints.length; ++i)\r\n    {\r\n      present.push(this.pointsScoreRanking[i].map((x, j) => { return (x); }));\r\n      present.push(\"\\n\");\r\n    }\r\n\r\n    this.state = {\r\n      intro: \"Here is your favorite car.\",\r\n      inst: \"Please compare your favorite car and the following cars and indicate if you are interested in the following cars?\",\r\n      ths: this.ths,\r\n      top: top,\r\n      topSample: top1smallSample,\r\n      topSamplewithbox: top1Samplewithbox,\r\n      output: present,\r\n      checkboxValues: {}\r\n    };\r\n  }\r\n\r\n  pickRandom = (arr, n) => {\r\n    const arrCopy = [...arr];\r\n    if (arrCopy.length <= n)\r\n      return arrCopy;\r\n    // Shuffle array\r\n    for (let i = arrCopy.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [arrCopy[i], arrCopy[j]] = [arrCopy[j], arrCopy[i]]; // ES6 array element swap\r\n    }\r\n    return arrCopy.slice(0, n);\r\n  };\r\n\r\n  handleCheckboxChange(event) {\r\n    const { id, checked } = event.target;\r\n    this.setState(prevState => ({\r\n      checkboxValues: {\r\n        ...prevState.checkboxValues,\r\n        [id]: checked\r\n      }\r\n    }));\r\n  }\r\n\r\n  downloadFile = index => {\r\n    if (index === 1) {\r\n      //output\r\n      this.setState(prevState => ({\r\n        output: [\r\n          ...prevState.output,\r\n          \"\\n\\n\\n\\nTOP-1\\n\\n\",\r\n          ...this.state.topSample.map((item, i) => [\r\n            item.map(x => x),\r\n            prevState.checkboxValues[`myCheckbox${i}`],\r\n            \"\\n\",\r\n          ]),\r\n        ],\r\n        checkboxValues: Object.keys(prevState.checkboxValues).reduce((result, key) => {\r\n          result[key] = false;\r\n          return result;\r\n        }, {}),\r\n      }), () => {\r\n        console.log(this.state.checkboxValues); // 打印最新的checkboxValues状态\r\n      });\r\n\r\n      //top-5 points\r\n      const top5 = [];\r\n      for(let i = 0; i < 5; ++i)\r\n        top5.push(this.trs[i]);\r\n      //obtain the index\r\n      const top5small = [], top5large = [];\r\n      for (let i = 5; i < this.props.leftPoints.length; ++i) {\r\n        if ((this.props.scores[4] - this.props.scores[i]) / this.props.scores[4] < 0.1)\r\n          top5small.push(this.pointsScoreRanking[i]);\r\n        else\r\n          top5large.push(this.pointsScoreRanking[i]);\r\n      }\r\n      const top5smallSample = this.pickRandom(top5small, 5);\r\n      const top5largeSample = this.pickRandom(top5large, 5);\r\n      for (let i = 0; i < top5largeSample.length; ++i)\r\n        top5smallSample.push(top5largeSample[i]);\r\n      const top5Samplewithbox = top5smallSample.map((idx, i) => (\r\n          <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n            <td key={0}>{idx[0]}</td>\r\n            <td key={1}>{idx[1]}</td>\r\n            <td key={2}>{idx[2]}</td>\r\n            <td key={3}>{idx[3]}</td>\r\n            <td>\r\n              <input\r\n                  type=\"checkbox\"\r\n                  id={`myCheckbox${i}`}\r\n                  name={`myCheckbox${i}`}\r\n                  value=\"myValue\"\r\n                  onChange={this.handleCheckboxChange.bind(this)}\r\n                  checked={this.state.checkboxValues[`myCheckbox${i}`] || false}\r\n              />\r\n              <label htmlFor={`myCheckbox${i}`}> Prefer </label>\r\n            </td>\r\n          </tr>\r\n      ));\r\n      this.setState({\r\n        intro: \"Here are your top-5 favorite cars.\",\r\n        inst: \"Please compare your favorite top-5 cars and the following cars \\n and indicate if you are interested in the following cars?\",\r\n        top: top5,\r\n        topSample: top5smallSample,\r\n        topSamplewithbox: top5Samplewithbox\r\n      });\r\n    }\r\n    else if(index === 5) {\r\n      //output\r\n      this.state.output.push(\"\\n\\n\\n\\nTOP-5\\n\\n\")\r\n      for(let i = 0; i < this.state.topSample.length; ++i)\r\n      {\r\n        this.state.output.push(this.state.topSample[i].map(x => { return (x); }));\r\n        this.state.output.push(this.state.checkboxValues[`myCheckbox${5+i}`]); //preferred default\r\n        this.state.output.push(\"\\n\");\r\n      }\r\n      this.setState({\r\n        checkboxValues: {}\r\n      });\r\n\r\n      //top-10 points\r\n      const top10 = [];\r\n      for (let i = 0; i < 10; ++i)\r\n        top10.push(this.trs[i]);\r\n      //obtain the index\r\n      const top10small = [], top10large = [];\r\n      for (let i = 10; i < this.props.leftPoints.length; ++i)\r\n      {\r\n        if ((this.props.scores[9] - this.props.scores[i]) / this.props.scores[9] < 0.1)\r\n          top10small.push(this.pointsScoreRanking[i]);\r\n        else\r\n          top10large.push(this.pointsScoreRanking[i]);\r\n      }\r\n      const top10smallSample = this.pickRandom(top10small, 5);\r\n      const top10largeSample = this.pickRandom(top10large, 5);\r\n      for (let i = 0; i < top10largeSample.length; ++i)\r\n        top10smallSample.push(top10largeSample[i]);\r\n      const top10Samplewithbox = top10smallSample.map((idx, i) => (\r\n          <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n            <td key={0}>{idx[0]}</td>\r\n            <td key={1}>{idx[1]}</td>\r\n            <td key={2}>{idx[2]}</td>\r\n            <td key={3}>{idx[3]}</td>\r\n            <td>\r\n              <input\r\n                  type=\"checkbox\"\r\n                  id={`myCheckbox${i}`}\r\n                  name={`myCheckbox${i}`}\r\n                  value=\"myValue\"\r\n                  onChange={this.handleCheckboxChange.bind(this)}\r\n                  checked={this.state.checkboxValues[`myCheckbox${i}`] || false}\r\n              />\r\n              <label htmlFor={`myCheckbox${i}`}> Prefer </label>\r\n            </td>\r\n          </tr>\r\n      ));\r\n      this.setState({\r\n        intro: \"Here are your top-10 favorite cars.\",\r\n        inst: \"Please compare your favorite top-10 cars and the following cars \\n and indicate if you are interested in the following cars?\",\r\n        top: top10,\r\n        topSample: top10smallSample,\r\n        topSamplewithbox: top10Samplewithbox\r\n      });\r\n    }\r\n    else\r\n    {\r\n      //output\r\n      this.state.output.push(\"\\n\\n\\n\\nTOP-10\\n\\n\")\r\n      for(let i = 0; i < this.state.topSample.length; ++i)\r\n      {\r\n        this.state.output.push(this.state.topSample[i].map(x => { return (x); }));\r\n        this.state.output.push(this.state.checkboxValues[`myCheckbox${i}`]); //preferred default\r\n        this.state.output.push(\"\\n\");\r\n      }\r\n      this.setState({\r\n        checkboxValues: {}\r\n      });\r\n\r\n      let blob = new Blob([this.state.output], {type: 'text/plain'});\r\n      let url = URL.createObjectURL(blob);\r\n      let downloadLink = document.createElement('a');\r\n      downloadLink.href = url;\r\n      downloadLink.download = 'sample.txt'; // 指定下载文件及类型\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n      this.props.showEnd();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <div className=\"justify-content-center\">\r\n            <h4>{this.state.intro}</h4>\r\n            <table className={classNames(\"table\", \"table-hover\", {\r\n                     \"table-fixed\": this.trs.length > 7\r\n                   })}\r\n                   style={{\r\n                     maxWidth: \"40rem\",\r\n                     margin: \"auto\"\r\n                   }}>\r\n              <thead>\r\n              <tr>{this.ths}</tr>\r\n              </thead>\r\n              <tbody>{this.state.top}</tbody>\r\n            </table>\r\n            <h5>{this.state.inst}</h5>\r\n            <table\r\n                className={classNames(\"table\", \"table-hover\", {\r\n                  \"table-fixed\": this.trs.length > 7\r\n                })}\r\n                style={{\r\n                  maxWidth: \"40rem\",\r\n                  margin: \"auto\"\r\n                }}\r\n            >\r\n              <thead>\r\n              <tr>{this.ths}</tr>\r\n              </thead>\r\n              <tbody>{this.state.topSamplewithbox}</tbody>\r\n            </table>\r\n            <br></br>\r\n            <div>\r\n              <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  style={{width: \"8rem\"}}\r\n                  onClick={() => this.downloadFile(this.state.top.length)}>\r\n                Finish\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  scores\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  scores\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  showEnd: () => {\r\n    dispatch(setActiveComponent(\"End\"));\r\n    dispatch(restart());\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Result);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}