{"version":3,"sources":["actions/index.js","reducers/index.js","utils.js","components/Welcome.js","components/Question.js","components/Histogram.js","components/three.js","components/ConvexHull.js","components/Legend.js","components/PreferenceSpace.js","components/Visuals.js","components/Stats.js","components/Interaction.js","components/Result.js","components/End.js","components/App.js","index.js"],"names":["setActiveComponent","component","type","combineReducers","activeComponent","state","arguments","length","undefined","action","points","labels","attributes","candidates","mask","forEach","_ref","_ref2","_slicedToArray","attr","_objectSpread","prunedPoints","indices","map","idx","step","concat","_toConsumableArray","leftPoints","filter","indexOf","numLeftPoints","prev","mode","vertices","scores","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","error","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","parsePoints","text","trim","split","line","str","parseFloat","parseLabels","loadDataset","_asyncToGenerator","_callee","pointsURL","labelsURL","response","_context","fetch","t0","t1","t2","t3","_x","_x2","apply","selectCandidates","ranges","maxPoints","low","high","point","isValid","j","array2Vector2D","array","vector","window","Module","VecVecDouble","arr","vec","VectorDouble","x","push_back","delete","vector2Array","size","get","Welcome","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","handleStart","_this$props$attribute","config","range","startAlgorithm","alert","handleModeChange","event","changeMode","target","inputs","React","createRef","_createClass","_this2","_ref3","_ref4","disabled","createElement","className","placeholder","ref","checked","onChange","toggleMask","id","htmlFor","style","maxWidth","width","onClick","Component","connect","_ref5","dispatch","setCandidates","_defineProperty","SIMPLEX","RANDOM","Question","choose","option","runner","stopInteraction","nextPair","setState","pair","Indicess","getRanking","setLeftPoints","Scores","getScore","setScore","showResult","smallerBetter","VectorInt","candidatesVec","AlgorithmRunner","ths","trs","tds","data-toggle","title","getNumQuestion","prunePoints","updateConvexHull","Histogram","_onMouseLeave","hintValue","_onNearestX","index","data","height","FlexibleXYPlot","onMouseLeave","XAxis","tickValues","tickFormat","toString","ticks","fill","YAxis","ChartLabel","includeMargin","xPercent","yPercent","transform","textAnchor","VerticalBarSeries","color","onNearestX","animation","Hint","y","num","THREE","require","SCALE","FACTOR","ConvexHull","_len","args","Array","_key","drawGeometry","vertex","scaled_vertex","_construct","Vector3","geometry","ConvexGeometry","material","MeshBasicMaterial","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","opacity","transparent","mesh","Mesh","geo","EdgesGeometry","mat","LineBasicMaterial","linewidth","wireframe","LineSegments","add","scene","addAxes","axes","AxesHelper","typeface","font","Font","Math","PI","sqrt","_mesh$position","_mesh$rotation","position","rotation","shape","generateShapes","ShapeBufferGeometry","side","DoubleSide","set","lines","_line$position","_line$rotation","Geometry","Line","start","frameId","requestAnimationFrame","animate","cancelAnimationFrame","controls","update","renderer","render","camera","mount","clientWidth","clientHeight","Scene","PerspectiveCamera","up","OrbitControls","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","prevProps","remove","dispose","removeChild","alignItems","display","backgroundColor","SlideItem","justifyContent","Legend","settings","dots","infinite","speed","slidesToShow","slidesToScroll","vertical","verticalSwiping","arrows","swipeToSlide","afterChange","changeStartingIndex","verticalAlign","slider","slickPrev","cursor","FontAwesomeIcon","icon","faAngleUp","Slider","assign","slickNext","faAngleDown","PreferenceSpace","updateContextHullVertices","convexHullVertices","vertext","vert","top","left","Visuals","Stats","prunedTrs","leftTrs","classNames","table-fixed","minWidth","Interaction","Result","pickRandom","n","arrCopy","floor","random","downloadFile","prevState","output","topSample","item","checkboxValues","console","log","top5","top5small","top5large","pointsScoreRanking","top5smallSample","top5largeSample","intro","inst","top10","top10small","top10large","top10smallSample","top10largeSample","blob","Blob","url","URL","createObjectURL","downloadLink","document","href","download","body","click","showEnd","th","pt","top1small","top1large","top1smallSample","top1largeSample","present","_event$target","topPresentwithbox","handleCheckboxChange","bind","margin","End","onRuntimeInitialized","_onRuntimeInitialized","_yield$loadDataset","_yield$loadDataset2","store","createStore","rootReducer","Provider","App","getElementById","script","src"],"mappings":"mJAWaA,EAAqB,SAAAC,GAAS,MAAK,CAC9CC,KAZkC,uBAalCD,cC2IaE,cAAgB,CAC7BC,gBA3IsB,WAA+B,IAA9BC,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,UAAWG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQC,EAAOP,MACb,IDhBgC,uBCiB9B,OAAOO,EAAOR,UAChB,QACE,OAAOI,IAuIXK,OAlIa,WAA0B,IAAzBL,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClC,OAAQC,EAAOP,MACb,IDxBuB,cCyBrB,OAAOO,EAAOC,OAChB,QACE,OAAOL,IA8HXM,OA9Ga,WAA0B,IAAzBN,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClC,OAAQC,EAAOP,MACb,ID7CuB,cC8CrB,OAAOO,EAAOE,OAChB,QACE,OAAON,IA0GXO,WArGiB,WAA0B,IAAzBP,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtC,OAAQC,EAAOP,MACb,IDvDuB,cCwDrB,OAAOO,EAAOG,WAChB,QACE,OAAOP,IAiGXQ,WA5FiB,WAA0B,IAAzBR,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtC,OAAQC,EAAOP,MACb,IDlE0B,iBCmExB,OAAOO,EAAOI,WAChB,QACE,OAAOR,IAwFXS,KAnFW,WAA0B,IAAzBT,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChC,OAAQC,EAAOP,MACb,ID3EuB,cC4ErB,IAAMY,EAAO,GAIb,OAHAL,EAAOG,WAAWG,QAAQ,SAAAC,GAAoB,IAAAC,EAAAC,YAAAF,EAAA,GAAlBG,EAAIF,EAAA,GAAQA,EAAA,GACtCH,EAAKK,GAAQ,IAERL,EACT,IDhFuB,cCiFrB,OAAAM,YAAA,GAAYf,EAAUI,EAAOK,MAC/B,QACE,OAAOT,IAyEXgB,aAnEmB,WAAwB,IAAvBhB,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtC,OAAQC,EAAOP,MACb,IDvFmB,UCwFjB,MAAO,GACT,ID5FwB,eC6FtB,IAAMQ,EAASD,EAAOa,QAAQC,IAAI,SAAAC,GAAG,MAAI,CAACA,EAAKf,EAAOgB,QACtD,SAAAC,OAAAC,YAAWjB,GAAMiB,YAAKtB,IACxB,QACE,OAAOA,IA4DXuB,WAtDiB,WAAwB,IAAvBvB,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpC,OAAQC,EAAOP,MACb,IDrGmB,UCsGjB,MAAO,GACT,IDzG2B,kBC0GzB,OAAOO,EAAOa,QAChB,ID5GwB,eC6GtB,OAAOjB,EAAMwB,OAAO,SAAAL,GAAG,OAAqC,IAAjCf,EAAOa,QAAQQ,QAAQN,KACpD,QACE,OAAOnB,IA8CX0B,cAzCoB,WAAwB,IAAvB1B,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvC,OAAQC,EAAOP,MACb,IDrH2B,kBCsHzB,MAAO,CAACO,EAAOa,QAAQf,QACzB,IDxHwB,eCyHtB,IAAMyB,EAAO3B,EAAMA,EAAME,OAAS,GAClC,SAAAmB,OAAAC,YAAWtB,GAAK,CAAE2B,EAAOvB,EAAOa,QAAQf,SAC1C,QACE,OAAOF,IAkCX4B,KA7BW,WAA+B,IAA9B5B,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,UAAWG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQC,EAAOP,MACb,IDjIoB,WCkIlB,OAAOO,EAAOwB,KAChB,QACE,OAAO5B,IAyBX6B,SApBe,WAAwB,IAAvB7B,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClC,OAAQC,EAAOP,MACb,IDzI8B,qBC0I5B,OAAOO,EAAOyB,SAChB,QACE,OAAO7B,IAgBX8B,OAlIa,WAA0B,IAAzB9B,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAAMH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClC,OAAQC,EAAOP,MACb,ID3BqB,YC4BnB,OAAOO,EAAO0B,OAChB,QACE,OAAO9B,qFCtCb+B,EAAA,kBAAAC,GAAA,IAAAA,EAAA,GAAAC,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAI,gBAAA,SAAAC,EAAAC,EAAAC,GAAAF,EAAAC,GAAAC,EAAAC,OAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAC,EAAAZ,EAAAC,EAAAE,GAAA,OAAAR,OAAAI,eAAAC,EAAAC,EAAA,CAAAE,QAAAU,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAf,EAAAC,GAAA,IAAAW,EAAA,aAAAI,GAAAJ,EAAA,SAAAZ,EAAAC,EAAAE,GAAA,OAAAH,EAAAC,GAAAE,GAAA,SAAAc,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,KAAAvB,qBAAA2B,EAAAJ,EAAAI,EAAAC,EAAA7B,OAAA8B,OAAAH,EAAA1B,WAAA8B,EAAA,IAAAC,EAAAN,GAAA,WAAAtB,EAAAyB,EAAA,WAAArB,MAAAyB,EAAAV,EAAAE,EAAAM,KAAAF,EAAA,SAAAK,EAAAC,EAAA9B,EAAA+B,GAAA,WAAAzE,KAAA,SAAAyE,IAAAD,EAAAE,KAAAhC,EAAA+B,IAAA,MAAAf,GAAA,OAAA1D,KAAA,QAAAyE,IAAAf,IAAAvB,EAAAwB,OAAA,IAAAgB,EAAA,YAAAV,KAAA,SAAAW,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAxB,EAAAwB,EAAA9B,EAAA,kBAAA+B,OAAA,IAAAC,EAAA3C,OAAA4C,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAA9C,GAAAG,EAAAmC,KAAAQ,EAAAlC,KAAA8B,EAAAI,GAAA,IAAAE,EAAAP,EAAAvC,UAAA2B,EAAA3B,UAAAD,OAAA8B,OAAAW,GAAA,SAAAO,EAAA/C,GAAA,0BAAAzB,QAAA,SAAAyE,GAAAhC,EAAAhB,EAAAgD,EAAA,SAAAb,GAAA,OAAAM,KAAAQ,QAAAD,EAAAb,OAAA,SAAAe,EAAAtB,EAAAuB,GAAA,IAAAC,EAAAjD,EAAAsC,KAAA,WAAAlC,MAAA,SAAAyC,EAAAb,GAAA,SAAAkB,IAAA,WAAAF,EAAA,SAAAG,EAAAC,IAAA,SAAAC,EAAAR,EAAAb,EAAAmB,EAAAC,GAAA,IAAAE,EAAAxB,EAAAL,EAAAoB,GAAApB,EAAAO,GAAA,aAAAsB,EAAA/F,KAAA,KAAAgG,EAAAD,EAAAtB,IAAA5B,EAAAmD,EAAAnD,MAAA,OAAAA,GAAA,iBAAAA,GAAAN,EAAAmC,KAAA7B,EAAA,WAAA4C,EAAAG,QAAA/C,EAAAoD,SAAAC,KAAA,SAAArD,GAAAiD,EAAA,OAAAjD,EAAA+C,EAAAC,IAAA,SAAAnC,GAAAoC,EAAA,QAAApC,EAAAkC,EAAAC,KAAAJ,EAAAG,QAAA/C,GAAAqD,KAAA,SAAAC,GAAAH,EAAAnD,MAAAsD,EAAAP,EAAAI,IAAA,SAAAI,GAAA,OAAAN,EAAA,QAAAM,EAAAR,EAAAC,OAAAE,EAAAtB,KAAAqB,CAAAR,EAAAb,EAAAmB,EAAAC,KAAA,OAAAH,MAAAQ,KAAAP,YAAA,SAAArB,EAAAV,EAAAE,EAAAM,GAAA,IAAAjE,EAAA,iCAAAmF,EAAAb,GAAA,iBAAAtE,EAAA,UAAAkG,MAAA,iDAAAlG,EAAA,cAAAmF,EAAA,MAAAb,EAAA,OAAA6B,IAAA,IAAAlC,EAAAkB,SAAAlB,EAAAK,QAAA,KAAA8B,EAAAnC,EAAAmC,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAAnC,GAAA,GAAAoC,EAAA,IAAAA,IAAA7B,EAAA,gBAAA6B,GAAA,YAAApC,EAAAkB,OAAAlB,EAAAsC,KAAAtC,EAAAuC,MAAAvC,EAAAK,SAAA,aAAAL,EAAAkB,OAAA,uBAAAnF,EAAA,MAAAA,EAAA,YAAAiE,EAAAK,IAAAL,EAAAwC,kBAAAxC,EAAAK,SAAA,WAAAL,EAAAkB,QAAAlB,EAAAyC,OAAA,SAAAzC,EAAAK,KAAAtE,EAAA,gBAAA4F,EAAAxB,EAAAX,EAAAE,EAAAM,GAAA,cAAA2B,EAAA/F,KAAA,IAAAG,EAAAiE,EAAA0C,KAAA,6BAAAf,EAAAtB,MAAAE,EAAA,gBAAA9B,MAAAkD,EAAAtB,IAAAqC,KAAA1C,EAAA0C,MAAA,UAAAf,EAAA/F,OAAAG,EAAA,YAAAiE,EAAAkB,OAAA,QAAAlB,EAAAK,IAAAsB,EAAAtB,OAAA,SAAAgC,EAAAF,EAAAnC,GAAA,IAAA2C,EAAA3C,EAAAkB,SAAAiB,EAAAtD,SAAA8D,GAAA,QAAAzG,IAAAgF,EAAA,OAAAlB,EAAAmC,SAAA,eAAAQ,GAAAR,EAAAtD,SAAA+D,SAAA5C,EAAAkB,OAAA,SAAAlB,EAAAK,SAAAnE,EAAAmG,EAAAF,EAAAnC,GAAA,UAAAA,EAAAkB,SAAA,WAAAyB,IAAA3C,EAAAkB,OAAA,QAAAlB,EAAAK,IAAA,IAAAwC,UAAA,oCAAAF,EAAA,aAAApC,EAAA,IAAAoB,EAAAxB,EAAAe,EAAAiB,EAAAtD,SAAAmB,EAAAK,KAAA,aAAAsB,EAAA/F,KAAA,OAAAoE,EAAAkB,OAAA,QAAAlB,EAAAK,IAAAsB,EAAAtB,IAAAL,EAAAmC,SAAA,KAAA5B,EAAA,IAAAuC,EAAAnB,EAAAtB,IAAA,OAAAyC,IAAAJ,MAAA1C,EAAAmC,EAAAY,YAAAD,EAAArE,MAAAuB,EAAAgD,KAAAb,EAAAc,QAAA,WAAAjD,EAAAkB,SAAAlB,EAAAkB,OAAA,OAAAlB,EAAAK,SAAAnE,GAAA8D,EAAAmC,SAAA,KAAA5B,GAAAuC,GAAA9C,EAAAkB,OAAA,QAAAlB,EAAAK,IAAA,IAAAwC,UAAA,oCAAA7C,EAAAmC,SAAA,KAAA5B,GAAA,SAAA2C,EAAAC,GAAA,IAAAC,EAAA,CAAAC,OAAAF,EAAA,SAAAA,IAAAC,EAAAE,SAAAH,EAAA,SAAAA,IAAAC,EAAAG,WAAAJ,EAAA,GAAAC,EAAAI,SAAAL,EAAA,IAAAxC,KAAA8C,WAAAC,KAAAN,GAAA,SAAAO,EAAAP,GAAA,IAAAzB,EAAAyB,EAAAQ,YAAA,GAAAjC,EAAA/F,KAAA,gBAAA+F,EAAAtB,IAAA+C,EAAAQ,WAAAjC,EAAA,SAAA1B,EAAAN,GAAAgB,KAAA8C,WAAA,EAAAJ,OAAA,SAAA1D,EAAAlD,QAAAyG,EAAAvC,WAAAkD,OAAA,YAAA9C,EAAA+C,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAAlF,GAAA,GAAAmF,EAAA,OAAAA,EAAAzD,KAAAwD,GAAA,sBAAAA,EAAAd,KAAA,OAAAc,EAAA,IAAAE,MAAAF,EAAA7H,QAAA,KAAAgI,GAAA,EAAAjB,EAAA,SAAAA,IAAA,OAAAiB,EAAAH,EAAA7H,QAAA,GAAAkC,EAAAmC,KAAAwD,EAAAG,GAAA,OAAAjB,EAAAvE,MAAAqF,EAAAG,GAAAjB,EAAAN,MAAA,EAAAM,EAAA,OAAAA,EAAAvE,WAAAvC,EAAA8G,EAAAN,MAAA,EAAAM,GAAA,OAAAA,UAAA,OAAAA,KAAAd,GAAA,SAAAA,IAAA,OAAAzD,WAAAvC,EAAAwG,MAAA,UAAAlC,EAAAtC,UAAAuC,EAAApC,EAAA2C,EAAA,eAAAvC,MAAAgC,EAAArB,cAAA,IAAAf,EAAAoC,EAAA,eAAAhC,MAAA+B,EAAApB,cAAA,IAAAoB,EAAA0D,YAAAhF,EAAAuB,EAAAzB,EAAA,qBAAAjB,EAAAoG,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAAE,YAAA,QAAAD,QAAA7D,GAAA,uBAAA6D,EAAAH,aAAAG,EAAAE,QAAAxG,EAAAyG,KAAA,SAAAJ,GAAA,OAAAnG,OAAAwG,eAAAxG,OAAAwG,eAAAL,EAAA3D,IAAA2D,EAAAM,UAAAjE,EAAAvB,EAAAkF,EAAApF,EAAA,sBAAAoF,EAAAlG,UAAAD,OAAA8B,OAAAiB,GAAAoD,GAAArG,EAAA4G,MAAA,SAAAtE,GAAA,OAAAwB,QAAAxB,IAAAY,EAAAG,EAAAlD,WAAAgB,EAAAkC,EAAAlD,UAAAY,EAAA,kBAAA6B,OAAA5C,EAAAqD,gBAAArD,EAAA6G,MAAA,SAAApF,EAAAC,EAAAC,EAAAC,EAAA0B,QAAA,IAAAA,MAAAwD,SAAA,IAAAC,EAAA,IAAA1D,EAAA7B,EAAAC,EAAAC,EAAAC,EAAAC,GAAA0B,GAAA,OAAAtD,EAAAoG,oBAAA1E,GAAAqF,IAAA9B,OAAAlB,KAAA,SAAAF,GAAA,OAAAA,EAAAc,KAAAd,EAAAnD,MAAAqG,EAAA9B,UAAA/B,EAAAD,GAAA9B,EAAA8B,EAAAhC,EAAA,aAAAE,EAAA8B,EAAApC,EAAA,kBAAA+B,OAAAzB,EAAA8B,EAAA,mDAAAjD,EAAAgH,KAAA,SAAAC,GAAA,IAAAC,EAAAhH,OAAA+G,GAAAD,EAAA,WAAAxG,KAAA0G,EAAAF,EAAArB,KAAAnF,GAAA,OAAAwG,EAAAG,UAAA,SAAAlC,IAAA,KAAA+B,EAAA9I,QAAA,KAAAsC,EAAAwG,EAAAI,MAAA,GAAA5G,KAAA0G,EAAA,OAAAjC,EAAAvE,MAAAF,EAAAyE,EAAAN,MAAA,EAAAM,EAAA,OAAAA,EAAAN,MAAA,EAAAM,IAAAjF,EAAAgD,SAAAd,EAAA/B,UAAA,CAAAoG,YAAArE,EAAA4D,MAAA,SAAAuB,GAAA,GAAAzE,KAAAjD,KAAA,EAAAiD,KAAAqC,KAAA,EAAArC,KAAA2B,KAAA3B,KAAA4B,WAAArG,EAAAyE,KAAA+B,MAAA,EAAA/B,KAAAwB,SAAA,KAAAxB,KAAAO,OAAA,OAAAP,KAAAN,SAAAnE,EAAAyE,KAAA8C,WAAAhH,QAAAkH,IAAAyB,EAAA,QAAAb,KAAA5D,KAAA,MAAA4D,EAAAc,OAAA,IAAAlH,EAAAmC,KAAAK,KAAA4D,KAAAP,OAAAO,EAAAe,MAAA,MAAA3E,KAAA4D,QAAArI,IAAAqJ,KAAA,WAAA5E,KAAA+B,MAAA,MAAA8C,EAAA7E,KAAA8C,WAAA,GAAAG,WAAA,aAAA4B,EAAA5J,KAAA,MAAA4J,EAAAnF,IAAA,OAAAM,KAAA8E,MAAAjD,kBAAA,SAAAkD,GAAA,GAAA/E,KAAA+B,KAAA,MAAAgD,EAAA,IAAA1F,EAAAW,KAAA,SAAAgF,EAAAC,EAAAC,GAAA,OAAAlE,EAAA/F,KAAA,QAAA+F,EAAAtB,IAAAqF,EAAA1F,EAAAgD,KAAA4C,EAAAC,IAAA7F,EAAAkB,OAAA,OAAAlB,EAAAK,SAAAnE,KAAA2J,EAAA,QAAA5B,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAAtC,EAAAyB,EAAAQ,WAAA,YAAAR,EAAAC,OAAA,OAAAsC,EAAA,UAAAvC,EAAAC,QAAA1C,KAAAjD,KAAA,KAAAoI,EAAA3H,EAAAmC,KAAA8C,EAAA,YAAA2C,EAAA5H,EAAAmC,KAAA8C,EAAA,iBAAA0C,GAAAC,EAAA,IAAApF,KAAAjD,KAAA0F,EAAAE,SAAA,OAAAqC,EAAAvC,EAAAE,UAAA,MAAA3C,KAAAjD,KAAA0F,EAAAG,WAAA,OAAAoC,EAAAvC,EAAAG,iBAAA,GAAAuC,GAAA,GAAAnF,KAAAjD,KAAA0F,EAAAE,SAAA,OAAAqC,EAAAvC,EAAAE,UAAA,YAAAyC,EAAA,UAAA9D,MAAA,6CAAAtB,KAAAjD,KAAA0F,EAAAG,WAAA,OAAAoC,EAAAvC,EAAAG,gBAAAd,OAAA,SAAA7G,EAAAyE,GAAA,QAAA4D,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAA,GAAAb,EAAAC,QAAA1C,KAAAjD,MAAAS,EAAAmC,KAAA8C,EAAA,eAAAzC,KAAAjD,KAAA0F,EAAAG,WAAA,KAAAyC,EAAA5C,EAAA,OAAA4C,IAAA,UAAApK,GAAA,aAAAA,IAAAoK,EAAA3C,QAAAhD,MAAA2F,EAAAzC,aAAAyC,EAAA,UAAArE,EAAAqE,IAAApC,WAAA,UAAAjC,EAAA/F,OAAA+F,EAAAtB,MAAA2F,GAAArF,KAAAO,OAAA,OAAAP,KAAAqC,KAAAgD,EAAAzC,WAAAhD,GAAAI,KAAAsF,SAAAtE,IAAAsE,SAAA,SAAAtE,EAAA6B,GAAA,aAAA7B,EAAA/F,KAAA,MAAA+F,EAAAtB,IAAA,gBAAAsB,EAAA/F,MAAA,aAAA+F,EAAA/F,KAAA+E,KAAAqC,KAAArB,EAAAtB,IAAA,WAAAsB,EAAA/F,MAAA+E,KAAA8E,KAAA9E,KAAAN,IAAAsB,EAAAtB,IAAAM,KAAAO,OAAA,SAAAP,KAAAqC,KAAA,kBAAArB,EAAA/F,MAAA4H,IAAA7C,KAAAqC,KAAAQ,GAAAjD,GAAA2F,OAAA,SAAA3C,GAAA,QAAAU,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAA,GAAAb,EAAAG,eAAA,OAAA5C,KAAAsF,SAAA7C,EAAAQ,WAAAR,EAAAI,UAAAG,EAAAP,GAAA7C,IAAA4F,MAAA,SAAA9C,GAAA,QAAAY,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAA,GAAAb,EAAAC,WAAA,KAAA1B,EAAAyB,EAAAQ,WAAA,aAAAjC,EAAA/F,KAAA,KAAAwK,EAAAzE,EAAAtB,IAAAsD,EAAAP,GAAA,OAAAgD,GAAA,UAAAnE,MAAA,0BAAAoE,cAAA,SAAAvC,EAAAf,EAAAE,GAAA,OAAAtC,KAAAwB,SAAA,CAAAtD,SAAAkC,EAAA+C,GAAAf,aAAAE,WAAA,SAAAtC,KAAAO,SAAAP,KAAAN,SAAAnE,GAAAqE,IAAAxC,EAAA,SAASuI,EAAYC,GAWnB,OAVeA,EACZC,OACAC,MAAM,MACNnB,MAAM,GACNrI,IAAI,SAAAyJ,GAAI,OACPA,EACGF,OACAC,MAAM,OACNxJ,IAAI,SAAA0J,GAAG,OAAIC,WAAWD,OAM/B,SAASE,EAAYN,GAEnB,OADeA,EAAKC,OAAOC,MAAM,MAU5B,IAYMK,EAAW,eAAApK,EAAAqK,YAAAjJ,IAAA0G,KAAG,SAAAwC,EAAOC,EAAWC,GAAS,IAAAC,EAAA/K,EAAAC,EAAA,OAAAyB,IAAAyB,KAAA,SAAA6H,GAAA,cAAAA,EAAA1J,KAAA0J,EAAApE,MAAA,cAAAoE,EAAApE,KAAA,EAC/BqE,MAAMJ,GAAU,OACX,OADtBE,EAAQC,EAAA9E,KAAA8E,EAAAE,GACGhB,EAAWc,EAAApE,KAAA,EAAOmE,EAASZ,OAAM,OAApC,GAAoCa,EAAAG,GAAAH,EAAA9E,KAA1ClG,GAAM,EAAAgL,EAAAE,IAAAF,EAAAG,SACMrL,IAAdgL,EAAuB,CAAAE,EAAApE,KAAA,gBAAAoE,EAAA3E,OAAA,SAClBrG,GAAM,eAAAgL,EAAApE,KAAA,GAEEqE,MAAMH,GAAU,QACP,OAD1BC,EAAQC,EAAA9E,KAAA8E,EAAAI,GACOX,EAAWO,EAAApE,KAAA,GAAOmE,EAASZ,OAAM,QAApC,OAAoCa,EAAAK,GAAAL,EAAA9E,KAA1CjG,GAAM,EAAA+K,EAAAI,IAAAJ,EAAAK,IAAAL,EAAA3E,OAAA,SACL,CAACrG,EAAQC,IAAO,yBAAA+K,EAAA7B,SAAAyB,MACxB,gBATuBU,EAAAC,GAAA,OAAAjL,EAAAkL,MAAAjH,KAAA3E,YAAA,GAYX6L,EAAmB,SAACzL,EAAQ0L,EAAQtL,EAAMuL,GAErD,IADA,IA9BiB/C,EAAKgD,EAAKC,EA8BrB1L,EAAa,GACV0H,EAAI,EAAGA,EAAI7H,EAAOH,UACrBM,EAAWN,QAAU8L,KADU9D,EAAG,CAItC,IAFA,IAAMiE,EAAQ9L,EAAO6H,GACjBkE,GAAU,EACLC,EAAI,EAAGA,EAAIF,EAAMjM,SAAUmM,EAClC,GAAI5L,EAAK4L,KApCIpD,EAoCakD,EAAME,GApCdJ,EAoCkBF,EAAOM,GAAG,GApCvBH,EAoC2BH,EAAOM,GAAG,KAnCzDJ,GAAOhD,GAAOA,GAAOiD,IAmCyC,CAC/DE,GAAU,EACV,MAGAA,GAAS5L,EAAWmH,KAAKwE,GAE/B,OAAO3L,GAII8L,EAAiB,SAAAC,GAC5B,IAAMC,EAAS,IAAIC,OAAOC,OAAOC,aAOjC,OANAJ,EAAM7L,QAAQ,SAAAkM,GACZ,IAAMC,EAAM,IAAIJ,OAAOC,OAAOI,aAC9BF,EAAIlM,QAAQ,SAAAqM,GAAC,OAAIF,EAAIG,UAAUD,KAC/BP,EAAOQ,UAAUH,GACjBA,EAAII,WAECT,GAgBIU,EAAe,SAAAV,GAE1B,IADA,IAAMD,EAAQ,GACLrE,EAAI,EAAGA,EAAIsE,EAAOW,SAAUjF,EACnCqE,EAAM5E,KAAK6E,EAAOY,IAAIlF,IAExB,OAAOqE,wcCtFT,IACMc,EAAO,SAAAC,GAAAC,YAAAF,EAAAC,GAAA,IAAAE,EAAAC,EAAAJ,GACX,SAAAA,EAAYK,GAAO,IAAAC,EAMyB,OANzBC,YAAAhJ,KAAAyI,IACjBM,EAAAH,EAAAjJ,KAAAK,KAAM8I,IAQRG,YAAc,WAGZ,IAFA,IAAM9B,EAAS,GACTtL,EAAO,GACJyH,EAAI,EAAGA,EAAIyF,EAAKD,MAAMnN,WAAWL,SAAUgI,EAAG,KAAA4F,EAAAjN,YAC9B8M,EAAKD,MAAMnN,WAAW2H,GAAE,GAAxCpH,EAAIgN,EAAA,GAAEC,EAAMD,EAAA,GACbE,EAAQ,CAACD,EAAO9B,IAAK8B,EAAO7B,MAgBlCH,EAAOpE,KAAKqG,GACZvN,EAAKkH,KAAKgG,EAAKD,MAAMjN,KAAKK,IAE5B,IAWMN,EAAasL,EACjB6B,EAAKD,MAAMrN,OACX0L,EACAtL,EAdc,KAiBU,IAAtBD,EAAWN,OAIfyN,EAAKD,MAAMO,eAAezN,GAHxB0N,MAAM,wCAITP,EAEDQ,iBAAmB,SAAAC,GACjBT,EAAKD,MAAMW,WAAWD,EAAME,OAAO5L,QAxDnCiL,EAAKY,OAAS,GACdZ,EAAKD,MAAMnN,WAAWG,QAAQ,SAAAC,GAAoB,IAAAC,EAAAC,YAAAF,EAAA,GAAlBG,EAAIF,EAAA,GAAQA,EAAA,GAC1C+M,EAAKY,OAAOzN,GAAQ,CAAC0N,IAAMC,YAAaD,IAAMC,eAEhDd,EAAKY,OAAOvC,UAAYwC,IAAMC,YAAYd,EAwK3C,OAvKAe,YAAArB,EAAA,EAAA7K,IAAA,SAAAE,MAsDD,WAAS,IAAAiM,EAAA/J,KAoFP,OAnFYA,KAAK8I,MAAMnN,WAAWW,IAAI,SAAA0N,GAAoB,IAAAC,EAAAhO,YAAA+N,EAAA,GAAlB9N,EAAI+N,EAAA,GAAEd,EAAMc,EAAA,GAC5CC,EAAqC,IAA1BH,EAAKjB,MAAMjN,KAAKK,GACzBmL,EAAc8B,EAAd9B,IAAKC,EAAS6B,EAAT7B,KACb,OACEsC,IAAAO,cAAA,MAAIvM,IAAK1B,GACP0N,IAAAO,cAAA,MAAIC,UAAU,gBAAgBlO,GAC9B0N,IAAAO,cAAA,UACEP,IAAAO,cAAA,SACElP,KAAK,OACLmP,UAAU,eACVC,YAAahD,EACbiD,IAAKP,EAAKJ,OAAOzN,GAAM,GACvBgO,SAAUA,KAGdN,IAAAO,cAAA,UACEP,IAAAO,cAAA,SACElP,KAAK,OACLmP,UAAU,eACVC,YAAa/C,EACbgD,IAAKP,EAAKJ,OAAOzN,GAAM,GACvBgO,SAAUA,KAGdN,IAAAO,cAAA,MAAIC,UAAU,uBACZR,IAAAO,cAAA,SACElP,KAAK,WACLsP,QAASL,EACTM,SAAU,kBACRT,EAAKjB,MAAM2B,WAAWvO,EAAM,EAAI6N,EAAKjB,MAAMjN,KAAKK,WAOxD6G,KACF6G,IAAAO,cAAA,MAAIvM,IAAI,SACNgM,IAAAO,cAAA,MAAIC,UAAU,iCAAgC,mBAC9CR,IAAAO,cAAA,UACEP,IAAAO,cAAA,SACElP,KAAK,OACLmP,UAAU,eACVC,YAAY,OACZC,IAAKtK,KAAK2J,OAAOvC,aAGrBwC,IAAAO,cAAA,UACEP,IAAAO,cAAA,OAAKC,UAAU,sCACbR,IAAAO,cAAA,SAAOC,UAAU,wCAAuC,QACxDR,IAAAO,cAAA,OAAKC,UAAU,qCACbR,IAAAO,cAAA,SACEC,UAAU,mBACVnP,KAAK,QACL2I,KAAK,qBACL8G,GAAG,UACH5M,MAAM,UACNyM,QAA6B,YAApBvK,KAAK8I,MAAM9L,KACpBwN,SAAUxK,KAAKuJ,mBAEjBK,IAAAO,cAAA,SAAOC,UAAU,mBAAmBO,QAAQ,WAAU,YAIxDf,IAAAO,cAAA,OAAKC,UAAU,gCACbR,IAAAO,cAAA,SACEC,UAAU,mBACVnP,KAAK,QACL2I,KAAK,qBACL8G,GAAG,SACH5M,MAAM,SACNyM,QAA6B,WAApBvK,KAAK8I,MAAM9L,KACpBwN,SAAUxK,KAAKuJ,mBAEjBK,IAAAO,cAAA,SAAOC,UAAU,mBAAmBO,QAAQ,UAAS,aAM3Df,IAAAO,cAAA,aAIFP,IAAAO,cAAA,OAAKC,UAAU,qBAAqBQ,MAAO,CAAEC,SAAU,UACrDjB,IAAAO,cAAA,UAAI,oCACJP,IAAAO,cAAA,WACAP,IAAAO,cAAA,WACAP,IAAAO,cAAA,UAAK,qDAC+CP,IAAAO,cAAA,YAEpDP,IAAAO,cAAA,KAAGC,UAAU,kBAAiB,4EAC6CR,IAAAO,cAAA,WAAM,2EACPP,IAAAO,cAAA,WAAM,yEACRP,IAAAO,cAAA,WAAM,sCACzCP,IAAAO,cAAA,WAAMP,IAAAO,cAAA,YAE3CP,IAAAO,cAAA,KAAGC,UAAU,mBAAkB,2DAC2BR,IAAAO,cAAA,YAE1DP,IAAAO,cAAA,WACEP,IAAAO,cAAA,UACElP,KAAK,SACLmP,UAAU,kBACVQ,MAAO,CAAEE,MAAO,QAChBC,QAAS/K,KAAKiJ,aACf,eAMRR,EA/KU,CAASmB,IAAMoB,WAkMbC,cAhBS,SAAHC,GAAoC,MAAQ,CAC/DvP,WADmCuP,EAAVvP,WAEzBE,KAFyCqP,EAAJrP,KAGrCJ,OAHiDyP,EAANzP,OAI3CuB,KAJuDkO,EAAJlO,OAO1B,SAAAmO,GAAQ,MAAK,CACtC9B,eAAgB,SAAAzN,GACduP,EHxLyB,SAAAvP,GAAU,MAAK,CAC1CX,KAhB4B,iBAiB5BW,cGsLWwP,CAAcxP,IACvBuP,EAASpQ,EAAmB,iBAE9B0P,WAAY,SAACvO,EAAML,GAAI,OAAKsP,EH/KJ,SAACjP,EAAMmI,GAAG,MAAM,CACxCpJ,KA1ByB,cA2BzBY,KAAIwP,YAAA,GAAKnP,EAAOmI,IG6KqBoG,CAAWvO,EAAML,KACtD4N,WAAY,SAAAzM,GAAI,OAAImO,EH3JI,SAAAnO,GAAI,MAAK,CACjC/B,KA5CsB,WA6CtB+B,QGyJ6ByM,CAAWzM,OAG3BiO,CAGbxC,wcClMF,IAAM6C,EAAU,EACVC,EAAS,EAGTC,EAAQ,SAAA9C,GAAAC,YAAA6C,EAAA9C,GAAA,IAAAE,EAAAC,EAAA2C,GACZ,SAAAA,EAAY1C,GAAO,IAAAC,EAAAC,YAAAhJ,KAAAwL,IACjBzC,EAAAH,EAAAjJ,KAAAK,KAAM8I,IAsBR2C,OAAS,SAAAlP,GACP,IAAMmP,EAASnP,EAAM,EAErB,GADkBwM,EAAK4C,OAAOF,OAAOC,GACrB,OAEd3C,EAAK6C,sBAEF,CACH,IAAMvP,EAAU0M,EAAK4C,OAAOE,WAC5B9C,EAAK+C,SAAS,CACZC,KAAMzD,EAAajM,OAGxB0M,EAED6C,gBAAkB,WAEhB,IAAMI,EAAWjD,EAAK4C,OAAOM,aAC7BlD,EAAKD,MAAMoD,cAAc5D,EAAa0D,IACtC,IAAMG,EAASpD,EAAK4C,OAAOS,WAC3BrD,EAAKD,MAAMuD,SAAS/D,EAAa6D,IACjCpD,EAAK4C,OAAOtD,SACZU,EAAKD,MAAMwD,cA3CX,IAAMC,EAAgB,IAAI1E,OAAOC,OAAO0E,UACxCzD,EAAKpN,WAAa,GAClBoN,EAAKD,MAAMnN,WAAWG,QAAQ,SAAAC,GAAoB,IAAAC,EAAAC,YAAAF,EAAA,GAAlBG,EAAIF,EAAA,GAAEmN,EAAMnN,EAAA,GACtC+M,EAAKD,MAAMjN,KAAKK,KAClBqQ,EAAcnE,UAAUe,EAAOoD,cAAgB,EAAI,GACnDxD,EAAKpN,WAAWoH,KAAK7G,MAGzB,IAAMuQ,EAAgB/E,EAAeqB,EAAKD,MAAMlN,YAChDmN,EAAK4C,OAAS,IAAI9D,OAAOC,OAAO4E,gBAC9BD,EACAF,EACoB,WAApBxD,EAAKD,MAAM9L,KAAoBuO,EAASD,GAE1CmB,EAAcpE,SACd,IAAMhM,EAAU0M,EAAK4C,OAAOE,WAG1B,OAFF9C,EAAK3N,MAAQ,CACT2Q,KAAMzD,EAAajM,IACrB0M,EA8EL,OA7EEe,YAAA0B,EAAA,EAAA5N,IAAA,SAAAE,MA2BH,WAAS,IAAAiM,EAAA/J,KACH2M,EAAM,CAAC/C,IAAAO,cAAA,MAAIvM,IAAI,cAAa,WAClCoC,KAAKrE,WAAWG,QAAQ,SAAAI,GACtByQ,EAAI5J,KAAK6G,IAAAO,cAAA,MAAIvM,IAAK1B,GAAOA,MAE3ByQ,EAAI5J,KAAK6G,IAAAO,cAAA,MAAIvM,IAAI,kBAEjB,IAAMgP,EAAM5M,KAAK5E,MAAM2Q,KAAKzP,IAAI,SAACC,EAAK+G,GACpC,IAAMuJ,EAAM,CAACjD,IAAAO,cAAA,MAAIvM,IAAI,cAAc0F,EAAI,IAevC,OAdAyG,EAAKjB,MAAMlN,WAAWW,GAAKT,QAAQ,SAACqM,EAAGV,GACrCoF,EAAI9J,KAAK6G,IAAAO,cAAA,MAAIvM,IAAK6J,GAAIU,MAExB0E,EAAI9J,KACF6G,IAAAO,cAAA,MAAIvM,IAAI,gBACNgM,IAAAO,cAAA,UACElP,KAAK,SACLmP,UAAU,iCACVW,QAAS,kBAAMhB,EAAK0B,OAAOnI,KAC5B,YAMHsG,IAAAO,cAAA,MAAIvM,IAAK0F,EAAGwJ,cAAY,UAAUC,MAAOhD,EAAKjB,MAAMpN,OAAOa,IACxDsQ,KAKP,OACEjD,IAAAO,cAAA,WACEP,IAAAO,cAAA,UAAI,wCACJP,IAAAO,cAAA,WAAKP,IAAAO,cAAA,WACLP,IAAAO,cAAA,UAAI,IACAnK,KAAK2L,OAAOqB,iBAAiB,iEAGjCpD,IAAAO,cAAA,OAAKC,UAAU,iDACbR,IAAAO,cAAA,OAAKC,UAAU,YACbR,IAAAO,cAAA,SAAOC,UAAU,iCACfR,IAAAO,cAAA,aACEP,IAAAO,cAAA,UAAKwC,IAEP/C,IAAAO,cAAA,aAAQyC,WAMjBpB,EAnGa,CAAS5B,IAAMoB,WA0IdC,cApCS,SAAHjB,GAOf,MACC,CACPtO,OARMsO,EAANtO,OASAE,WARUoO,EAAVpO,WASAC,KARImO,EAAJnO,KASAF,WARUqO,EAAVrO,WASAmB,cARakN,EAAblN,cASAE,KARIgN,EAAJhN,KASAE,OARM8M,EAAN9M,SAW2B,SAAAiO,GAAQ,MAAK,CACxCmB,WAAY,WACZnB,EAASpQ,EAAmB,YAE5BmR,cAAe,SAAA7P,GACf8O,EJ1G6B,SAAA9O,GAAO,MAAK,CACvCpB,KAnC6B,kBAoC7BoB,WIwGO6P,CAAc7P,KAEvBgQ,SAAU,SAAAnP,GACRiO,EJxGsB,SAAAjO,GAAM,MAAK,CACjCjC,KApCuB,YAqCvBiC,UIsGSmP,CAASnP,KAEpB+P,YAAa,SAAC5Q,EAASG,GACvB2O,EJtH2B,SAAC9O,EAASG,GAAI,MAAM,CAC7CvB,KA9B0B,eA+B1BoB,UACAG,QImHOyQ,CAAY5Q,EAASG,KAE9B0Q,iBAAkB,SAAAjQ,GAClBkO,EJhGgC,SAAAlO,GAAQ,MAAK,CAC3ChC,KAnDgC,qBAoDhCgC,YI8FOiQ,CAAiBjQ,OAIXgO,CAGbO,gdCtJF,IACM2B,EAAS,SAAAzE,GAAAC,YAAAwE,EAAAzE,GAAA,IAAAE,EAAAC,EAAAsE,GACb,SAAAA,EAAYrE,GAAO,IAAAC,EAIf,OAJeC,YAAAhJ,KAAAmN,IACjBpE,EAAAH,EAAAjJ,KAAAK,KAAM8I,IAMRsE,cAAgB,WACdrE,EAAK+C,SAAS,CACZuB,UAAW,QAEdtE,EAEDuE,YAAc,SAACxP,EAAK/B,GAAgB,IAAZwR,EAAKxR,EAALwR,MACtBxE,EAAK+C,SAAS,CACZuB,UAAWtE,EAAKD,MAAM0E,KAAKD,MAb7BxE,EAAK3N,MAAQ,CACXiS,UAAW,MACXtE,EAsEH,OArEAe,YAAAqD,EAAA,EAAAvP,IAAA,SAAAE,MAcD,WACE,OACE8L,IAAAO,cAAA,WACEP,IAAAO,cAAA,UAAI,+CACJP,IAAAO,cAAA,OAAKS,MAAO,CAAEE,MAAO,QAAS2C,OAAQ,UACpC7D,IAAAO,cAACuD,IAAc,CAACC,aAAc3N,KAAKoN,eACjCxD,IAAAO,cAACyD,IAAK,CACJC,WAAY7N,KAAK8I,MAAM0E,KAAKlR,IAAI,SAAC+H,EAAK9H,GAAG,OAAKA,IAC9CuR,WAAY,SAAAhQ,GAAK,OAAIA,EAAMiQ,YAC3BnD,MAAO,CACLoD,MAAO,CAAEC,KAAM,YAGnBrE,IAAAO,cAAC+D,IAAK,CACJtD,MAAO,CACLoD,MAAO,CAAEC,KAAM,YAGnBrE,IAAAO,cAACgE,IAAU,CACTvI,KAAK,eACLwI,eAAe,EACfC,SAAU,IACVC,SAAU,KACV1D,MAAO,CACLA,MAAO,CAAEqD,KAAM,YAGnBrE,IAAAO,cAACgE,IAAU,CACTvI,KAAK,mBACLwI,eAAe,EACfC,UAAW,IACXC,SAAU,IACV1D,MAAO,CACL2D,UAAW,cACXC,WAAY,MACZ5D,MAAO,CAAEqD,KAAM,YAGnBrE,IAAAO,cAACsE,IAAiB,CAChBC,MAAM,mBACNC,WAAY3O,KAAKsN,YACjBE,KAAMxN,KAAK8I,MAAM0E,KACjBoB,WAAS,IAEV5O,KAAK5E,MAAMiS,WACVzD,IAAAO,cAAC0E,IAAI,CAAC/Q,MAAOkC,KAAK5E,MAAMiS,WACtBzD,IAAAO,cAAA,KAAGS,MAAO,CAAE8D,MAAO,UAAW,IAC1B1O,KAAK5E,MAAMiS,UAAUlF,EAAE,KAAGnI,KAAK5E,MAAMiS,UAAUyB,EAAE,sBAQlE3B,EA3EY,CAASvD,IAAMoB,cAkFfC,YAJS,SAAHjP,GAAmB,MAAQ,CAC9CwR,KADsCxR,EAAbc,cACLR,IAAI,SAACyS,EAAKzL,GAAC,MAAM,CAAE6E,EAAG7E,EAAGwL,EAAGC,OAGnC9D,CAAyBkC,kBC7FxCtF,OAAOmH,MAAQA,EACfC,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IAEOD,6cCHf,IAAME,EAAQ,IACRC,EAAS,GA+JAC,EA5JC,SAAA1G,GAAAC,YAAAyG,EAAA1G,GAAA,IAAAE,EAAAC,EAAAuG,GAAA,SAAAA,IAAA,IAAArG,EAAAC,YAAAhJ,KAAAoP,GAAA,QAAAC,EAAAhU,UAAAC,OAAAgU,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAnU,UAAAmU,GA8Ib,OA9IazG,EAAAH,EAAAjJ,KAAAsH,MAAA2B,EAAA,CAAA5I,MAAAvD,OAAA6S,KAsBdG,aAAe,WACb,KAAI1G,EAAKD,MAAM7L,SAAS3B,OAAS,GAAjC,CACA,IAAMG,EAASsN,EAAKD,MAAM7L,SAASX,IAAI,SAAAoT,GACrC,IAAMC,EAAgBD,EAAOpT,IAAI,SAAA6L,GAAC,OAAIA,EAAI+G,IAC1C,OAAAU,YAAWZ,EAAMa,QAAOnT,YAAIiT,MAExBG,EAAW,IAAId,EAAMe,eAAetU,GACpCuU,EAAW,IAAIhB,EAAMiB,kBAAkB,CAC3CvB,MAAO,SAEPwB,eAAe,EACfC,oBAAqB,EACrBC,mBAAoB,EACpBC,QAAS,GACTC,aAAa,IAEfvH,EAAKwH,KAAO,IAAIvB,EAAMwB,KAAKV,EAAUE,GACrC,IAAMS,EAAM,IAAIzB,EAAM0B,cAAcZ,GAC9Ba,EAAM,IAAI3B,EAAM4B,kBAAkB,CAAElC,MAAO,EAAUmC,UAAW,IAChEC,EAAY,IAAI9B,EAAM+B,aAAaN,EAAKE,GAC9C5H,EAAKwH,KAAKS,IAAIF,GACd/H,EAAKkI,MAAMD,IAAIjI,EAAKwH,QACrBxH,EAEDmI,QAAU,WACR,IAAMC,EAAO,IAAInC,EAAMoC,WAAW,IAAMlC,GACxCnG,EAAKkI,MAAMD,IAAIG,GACf,IAAME,EAAWpC,EAAQ,IACnBqC,EAAO,IAAItC,EAAMuC,KAAKF,GAEV,CAEhB,CACE,SACA,CAACnC,EAAQA,GAAkB,EAATC,GAAa,EAAG,GAClC,CAACqC,KAAKC,GAAK,EAAGD,KAAKC,GAAI,IAEzB,CACE,MACA,CAAC,EAAGvC,EAAQA,GAAkB,EAATC,GAAa,GAClC,CAACqC,KAAKC,GAAK,EAAGD,KAAKC,GAAK,EAAG,IAE7B,CACE,IACA,CACEvC,GAASC,EAASqC,KAAKE,KAAK,KAC3BxC,GAASC,EAASqC,KAAKE,KAAK,IAC7BxC,GAEF,CAACsC,KAAKC,GAAK,EAAc,EAAVD,KAAKC,GAAU,EAAG,KAI3B3V,QAAQ,SAAAC,GAAiC,IAAA4V,EAAAC,EAAA5V,EAAAC,YAAAF,EAAA,GAA/B2S,EAAK1S,EAAA,GAAE6V,EAAQ7V,EAAA,GAAE8V,EAAQ9V,EAAA,GACrC+V,EAAQT,EAAKU,eAAe,IAAK9C,EAAQC,GACzCW,EAAW,IAAId,EAAMiD,oBAAoBF,GACzCxB,EAAO,IAAIvB,EAAMwB,KACrBV,EACA,IAAId,EAAMiB,kBAAkB,CAC1BvB,MAAOA,EACPwD,KAAMlD,EAAMmD,eAGhBR,EAAApB,EAAKsB,UAASO,IAAGnL,MAAA0K,EAAAjV,YAAImV,KACrBD,EAAArB,EAAKuB,UAASM,IAAGnL,MAAA2K,EAAAlV,YAAIoV,IACrB/I,EAAKkI,MAAMD,IAAIT,KAEjB1I,OAAOwK,MAAQ,GACI,CACjB,CAAC,SAAU,CAACnD,EAAO,EAAG,GAAI,CAAC,EAAG,EAAG,IACjC,CAAC,MAAU,CAAC,EAAGA,EAAO,GAAI,CAAC,EAAG,GAAIsC,KAAKC,GAAK,IAC5C,CAAC,IAAU,CAAC,EAAG,EAAGvC,GAAQ,CAAC,EAAG,GAAIsC,KAAKC,GAAK,KAEnC3V,QAAQ,SAAAkO,GAAiC,IAAAsI,EAAAC,EAAAtI,EAAAhO,YAAA+N,EAAA,GAA/B0E,EAAKzE,EAAA,GAAE4H,EAAQ5H,EAAA,GAAE6H,EAAQ7H,EAAA,GACtC+F,EAAW,IAAIhB,EAAM4B,kBAAkB,CAC3ClC,UAEIoB,EAAW,IAAId,EAAMwD,SAC3B1C,EAAS7S,SAAS8F,KAChB,IAAIiM,EAAMa,QAAQ,EAAG,EAAG,GACxB,IAAIb,EAAMa,QAAQ,EAAGX,GAAS,EAAIC,KAEpC,IAAMpJ,EAAO,IAAIiJ,EAAMyD,KAAK3C,EAAUE,IACtCsC,EAAAvM,EAAK8L,UAASO,IAAGnL,MAAAqL,EAAA5V,YAAImV,KACrBU,EAAAxM,EAAK+L,UAASM,IAAGnL,MAAAsL,EAAA7V,YAAIoV,IACrB/I,EAAKkI,MAAMD,IAAIjL,GACf8B,OAAOwK,MAAMtP,KAAKgD,MAErBgD,EAkBD2J,MAAQ,WACD3J,EAAK4J,UACR5J,EAAK4J,QAAU9K,OAAO+K,sBAAsB7J,EAAK8J,WAEpD9J,EAEDnE,KAAO,WACLiD,OAAOiL,qBAAqB/J,EAAK4J,UAClC5J,EAED8J,QAAU,WACR9J,EAAKgK,SAASC,SACdjK,EAAKkK,SAASC,OAAOnK,EAAKkI,MAAOlI,EAAKoK,QACtCpK,EAAK4J,QAAU9K,OAAO+K,sBAAsB7J,EAAK8J,UAClD9J,EAWA,OAXAe,YAAAsF,EAAA,EAAAxR,IAAA,oBAAAE,MA7ID,WACE,IAAMgN,EAAQ9K,KAAKoT,MAAMC,YACnB5F,EAASzN,KAAKoT,MAAME,aAE1BtT,KAAKiR,MAAQ,IAAIjC,EAAMuE,MAEvBvT,KAAKmT,OAAS,IAAInE,EAAMwE,kBAAkB,GAAI1I,EAAQ2C,EAAQ,GAAK,KACnEzN,KAAKmT,OAAOtB,SAASO,IAAI,IAAMlD,EAAO,IAAMA,EAAO,GAAMA,GACzDlP,KAAKmT,OAAOM,GAAGrB,IAAI,EAAG,EAAG,GACzBpS,KAAK+S,SAAW,IAAI/D,EAAM0E,cAAc1T,KAAKmT,OAAQnT,KAAKoT,OAC1DpT,KAAK+S,SAASC,SAEdhT,KAAKiT,SAAW,IAAIjE,EAAM2E,cAAc,CAAEC,WAAW,IACrD5T,KAAKiT,SAASY,cAAc,UAC5B7T,KAAKiT,SAASa,QAAQhJ,EAAO2C,GAC7BzN,KAAKoT,MAAMW,YAAY/T,KAAKiT,SAASe,YACrChU,KAAKkR,UACLlR,KAAKyP,eACLzP,KAAK0S,UACN,CAAA9U,IAAA,qBAAAE,MA4FD,SAAmBmW,GACbjU,KAAK8I,MAAM7L,WAAagX,EAAUhX,WAChC+C,KAAKuQ,OACPvQ,KAAKiR,MAAMiD,OAAOlU,KAAKuQ,MACvBvQ,KAAKuQ,KAAKT,SAASqE,UACnBnU,KAAKuQ,KAAKP,SAASmE,WAErBnU,KAAKyP,kBAER,CAAA7R,IAAA,uBAAAE,MAED,WACEkC,KAAK4E,OACL5E,KAAKoT,MAAMgB,YAAYpU,KAAKiT,SAASe,cACtC,CAAApW,IAAA,SAAAE,MAkBD,WAAS,IAAAiM,EAAA/J,KACP,OACE4J,IAAAO,cAAA,OACES,MAAO,CAAEE,MAAO,QAAS2C,OAAQ,SACjCnD,IAAK,SAAA8I,GACHrJ,EAAKqJ,MAAQA,SAIpBhE,EAzJa,CAASxF,IAAMoB,ifCF/B,SAASyH,EAAI1W,GAAY,IAAT2S,EAAK3S,EAAL2S,MACd,OACE9E,IAAAO,cAAA,OACES,MAAO,CACLE,MAAO,OACP2C,OAAQ,OACR4G,WAAY,SACZC,QAAS,SAGX1K,IAAAO,cAAA,OAAKS,MAAO,CAAEE,MAAO,OAAQ2C,OAAQ,MAAO8G,gBAAiB7F,MAKnE,SAAS8F,EAASxY,GAAW,IAAR4J,EAAI5J,EAAJ4J,KACnB,OACEgE,IAAAO,cAAA,OACES,MAAO,CACL6C,OAAQ,OACR4G,WAAY,SACZC,QAAS,OACTG,eAAgB,WAGjB7O,GAKP,IAiEe8O,EAhEH,SAAAhM,GAAAC,YAAA+L,EAAAhM,GAAA,IAAAE,EAAAC,EAAA6L,GAAA,SAAAA,IAAA,OAAA1L,YAAAhJ,KAAA0U,GAAA9L,EAAA3B,MAAAjH,KAAA3E,WA6DT,OA7DSyO,YAAA4K,EAAA,EAAA9W,IAAA,SAAAE,MACV,WAAS,IAAAiL,EAAA/I,KACD2U,EAAW,CACfC,MAAM,EACNC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,UAAU,EACVC,iBAAiB,EACjBC,QAAQ,EACRC,cAAc,EACdC,YAAarV,KAAK8I,MAAMwM,qBAE1B,OACE1L,IAAAO,cAAA,OACE4C,MAAM,qFACNnC,MAAO,CACLE,MAAO,UAGTlB,IAAAO,cAAA,OACES,MAAO,CACLyJ,WAAY,SACZvJ,MAAO,OACPwJ,QAAS,eACTiB,cAAe,WAGjB3L,IAAAO,cAACsI,EAAI,CAAC/D,MAAM,YACZ9E,IAAAO,cAACsI,EAAI,CAAC/D,MAAM,YACZ9E,IAAAO,cAACsI,EAAI,CAAC/D,MAAM,aAEd9E,IAAAO,cAAA,OACES,MAAO,CACLE,MAAO,OACPwJ,QAAS,eACTiB,cAAe,WAGjB3L,IAAAO,cAAA,OACEY,QAAS,kBAAMhC,EAAKyM,OAAOC,aAC3B7K,MAAO,CAAE8K,OAAQ,YAEjB9L,IAAAO,cAACwL,IAAe,CAACC,KAAMC,OAEzBjM,IAAAO,cAAC2L,IAAMxY,OAAAyY,OAAA,GAAKpB,EAAQ,CAAErK,IAAK,SAAAvL,GAAI,OAAKgK,EAAKyM,OAASzW,KAChD6K,IAAAO,cAACqK,EAAS,CAAC5O,KAAK,gBAChBgE,IAAAO,cAACqK,EAAS,CAAC5O,KAAK,SAChBgE,IAAAO,cAACqK,EAAS,CAAC5O,KAAK,eAChBgE,IAAAO,cAACqK,EAAS,CAAC5O,KAAK,aAElBgE,IAAAO,cAAA,OACEY,QAAS,kBAAMhC,EAAKyM,OAAOQ,aAC3BpL,MAAO,CAAE8K,OAAQ,YAEjB9L,IAAAO,cAACwL,IAAe,CAACC,KAAMK,aAKhCvB,EA7DS,CAAS9K,IAAMoB,gdC/B3B,IACMkL,GAAe,SAAAxN,GAAAC,YAAAuN,EAAAxN,GAAA,IAAAE,EAAAC,EAAAqN,GACnB,SAAAA,EAAYpN,GAAO,IAAAC,EAKf,OALeC,YAAAhJ,KAAAkW,IACjBnN,EAAAH,EAAAjJ,KAAAK,KAAM8I,IAORqN,0BAA4B,SAAA5I,GAC1B,IAAM6I,EAAqBrN,EAAKD,MAAM7L,SAASX,IAAI,SAAA+Z,GAEjD,IADA,IAAMC,EAAO,GACJhT,EAAI,EAAGA,EAAI,IAAKA,EACvBgT,EAAKvT,KAAKsT,GAAS/S,EAAIiK,GAAS,IAElC,OAAO+I,IAETvN,EAAK+C,SAAS,CAAEsK,wBACjBrN,EAQDuM,oBAAsB,SAAA/H,GACpBxE,EAAK+C,SAAS,CAAEyB,UAIhBxE,EAAKoN,0BAA0B5I,IA5B/BxE,EAAK3N,MAAQ,CACXmS,MAAO,EACP6I,mBAAoBtN,EAAM7L,SAASX,IAAI,SAAAga,GAAI,OAAIA,EAAK3R,MAAM,EAAG,MAC7DoE,EAsCH,OArCAe,YAAAoM,EAAA,EAAAtY,IAAA,qBAAAE,MAaD,SAAmBmW,GACbjU,KAAK8I,MAAM7L,WAAagX,EAAUhX,UACpC+C,KAAKmW,0BAA0BnW,KAAK5E,MAAMmS,SAE7C,CAAA3P,IAAA,SAAAE,MAUD,WACE,OACE8L,IAAAO,cAAA,WACEP,IAAAO,cAAA,UAAI,mCACJP,IAAAO,cAACiF,EAAU,CAACnS,SAAU+C,KAAK5E,MAAMgb,qBACjCxM,IAAAO,cAAA,OAAKS,MAAO,CAAEiH,SAAU,WAAY0E,IAAK,OAAQC,KAAM,UACrD5M,IAAAO,cAACuK,EAAM,CAACY,oBAAqBtV,KAAKsV,4BAIzCY,EA5CkB,CAAStM,IAAMoB,WAiDrBC,YAFS,SAAHlP,GAAc,MAAQ,CAAEkB,SAAVlB,EAARkB,WAEZgO,CAAyBiL,ICnCzBO,8dChBf,IACMC,GAAK,SAAAhO,GAAAC,YAAA+N,EAAAhO,GAAA,IAAAE,EAAAC,GAAA6N,GACT,SAAAA,EAAY5N,GAAO,IAAAC,EAOd,OAPcC,YAAAhJ,KAAA0W,IACjB3N,EAAAH,EAAAjJ,KAAAK,KAAM8I,IACDnN,WAAa,GAClBoN,EAAKD,MAAMnN,WAAWG,QAAQ,SAAAC,GAAoB,IAAAC,EAAAC,YAAAF,EAAA,GAAlBG,EAAIF,EAAA,GAAQA,EAAA,GACtC+M,EAAKD,MAAMjN,KAAKK,IAClB6M,EAAKpN,WAAWoH,KAAK7G,KAEtB6M,EAgEJ,OA/DAe,YAAA4M,EAAA,EAAA9Y,IAAA,SAAAE,MAED,WAAS,IAAAiM,EAAA/J,KACH2M,EAAM,CAAC/C,IAAAO,cAAA,MAAIvM,IAAI,YAAW,SAC9BoC,KAAKrE,WAAWG,QAAQ,SAAAI,GACtByQ,EAAI5J,KAAK6G,IAAAO,cAAA,MAAIvM,IAAK1B,GAAOA,MAE3B,IAAMya,EAAY3W,KAAK8I,MAAM1M,aAAaE,IAAI,SAAA0N,EAAc1G,GAAC,IAAA2G,EAAAhO,YAAA+N,EAAA,GAAbzN,EAAG0N,EAAA,GAAEzN,EAAIyN,EAAA,UACvDL,IAAAO,cAAA,MAAIvM,IAAK0F,EAAGwJ,cAAY,UAAUC,MAAOhD,EAAKjB,MAAMpN,OAAOa,IACxD,CAACC,GAAIC,OAAAC,YAAKqN,EAAKjB,MAAMlN,WAAWW,KAAMD,IAAI,SAAC6L,EAAGV,GAAC,OAC9CmC,IAAAO,cAAA,MAAIvM,IAAK6J,GAAIU,QAIbyO,EAAU5W,KAAK8I,MAAMnM,WAAWL,IAAI,SAACC,EAAK+G,GAAC,OAC/CsG,IAAAO,cAAA,MAAIvM,IAAK0F,EAAGwJ,cAAY,UAAUC,MAAOhD,EAAKjB,MAAMpN,OAAOa,IACxDwN,EAAKjB,MAAMlN,WAAWW,GAAKD,IAAI,SAAC6L,EAAGV,GAAC,OACnCmC,IAAAO,cAAA,MAAIvM,IAAK6J,GAAIU,QAInB,OACEyB,IAAAO,cAAA,WACEP,IAAAO,cAAA,UAAI,cACJP,IAAAO,cAAA,OAAKC,UAAU,OACbR,IAAAO,cAAA,OAAKC,UAAU,OACbR,IAAAO,cAAA,UAAI,2BAAyBnK,KAAK8I,MAAM1M,aAAad,QACrDsO,IAAAO,cAAA,SACEC,UAAWyM,KAAW,QAAS,cAAe,CAC5CC,cAAeH,EAAUrb,OAAS,IAEpCsP,MAAO,CACLmM,SAAU,UAGZnN,IAAAO,cAAA,aACEP,IAAAO,cAAA,UAAKwC,IAEP/C,IAAAO,cAAA,aAAQwM,KAGZ/M,IAAAO,cAAA,OAAKC,UAAU,OACbR,IAAAO,cAAA,UAAI,wCACoC,IACrCnK,KAAK8I,MAAMnM,WAAWrB,QAEzBsO,IAAAO,cAAA,SACEC,UAAWyM,KAAW,QAAS,cAAe,CAC5CC,cAAeF,EAAQtb,OAAS,IAElCsP,MAAO,CACLmM,SAAU,UAGZnN,IAAAO,cAAA,aACEP,IAAAO,cAAA,UAAKwC,EAAIhI,MAAM,KAEjBiF,IAAAO,cAAA,aAAQyM,WAMnBF,EAxEQ,CAAS9M,IAAMoB,WA2FXC,YAhBc,SAAHC,GAMpB,MACC,CACLxP,OAPMwP,EAANxP,OAQAE,WAPUsP,EAAVtP,WAQAQ,aAPY8O,EAAZ9O,aAQAO,WAPUuO,EAAVvO,WAQAhB,WAPUuP,EAAVvP,WAQAE,KAPIqP,EAAJrP,OAUaoP,CAA8ByL,ICnF9BM,OARf,WACE,OACEpN,IAAAO,cAAA,WACEP,IAAAO,cAACqB,EAAQ,8cCJqB,IAE9ByL,GAAM,SAAAvO,GAAAC,YAAAsO,EAAAvO,GAAA,IAAAE,EAAAC,GAAAoO,GACV,SAAAA,EAAYnO,GAAO,IAAAC,EAAAC,YAAAhJ,KAAAiX,IACjBlO,EAAAH,EAAAjJ,KAAAK,KAAM8I,IAwERoO,WAAa,SAAClP,EAAKmP,GACjB,IAAMC,EAAO1a,YAAOsL,GACpB,GAAIoP,EAAQ9b,QAAU6b,EACpB,OAAOC,EAET,IAAK,IAAI9T,EAAI8T,EAAQ9b,OAAS,EAAGgI,EAAI,EAAGA,IAAK,CAC3C,IAAMmE,EAAI+J,KAAK6F,MAAM7F,KAAK8F,UAAYhU,EAAI,IACWvH,EAA1B,CAACqb,EAAQ3P,GAAI2P,EAAQ9T,IAA/C8T,EAAQ9T,GAAEvH,EAAA,GAAEqb,EAAQ3P,GAAE1L,EAAA,GAEzB,OAAOqb,EAAQzS,MAAM,EAAGwS,IACzBpO,EAaDwO,aAAe,SAAAhK,GACb,GAAc,IAAVA,EAAa,CAEfxE,EAAK+C,SAAS,SAAA0L,GAAS,MAAK,CAC1BC,OAAM,GAAAhb,OAAAC,YACD8a,EAAUC,QAAM,CACnB,qBAAmB/a,YAChBqM,EAAK3N,MAAMsc,UAAUpb,IAAI,SAACqb,EAAMrU,GAAC,MAAK,CACvCqU,EAAKrb,IAAI,SAAA6L,GAAC,OAAIA,IACdqP,EAAUI,eAAc,aAAAnb,OAAc6G,IACtC,YAGF,WACFuU,QAAQC,IAAI/O,EAAK3N,MAAMwc,kBAIzB,IADA,IAAIA,EAAiB,GACZtU,EAAI,EAAGA,EAAI,GAAIA,IACtBsU,EAAc,aAAAnb,OAAc6G,KAAO,EAErCyF,EAAK+C,SAAS,CACZ8L,eAAgBA,IAKlB,IADA,IAAMG,EAAO,GACLzU,EAAI,EAAGA,EAAI,IAAKA,EACtByU,EAAKhV,KAAKgG,EAAK6D,IAAItJ,IAGrB,IADA,IAAM0U,EAAY,GAAIC,EAAY,GACzB3U,EAAI,EAAGA,EAAIyF,EAAKD,MAAMnM,WAAWrB,SAAUgI,GAC7CyF,EAAKD,MAAM5L,OAAO,GAAK6L,EAAKD,MAAM5L,OAAOoG,IAAMyF,EAAKD,MAAM5L,OAAO,GAAK,GACzE8a,EAAUjV,KAAKgG,EAAKmP,mBAAmB5U,IAEvC2U,EAAUlV,KAAKgG,EAAKmP,mBAAmB5U,IAI3C,IAFA,IAAM6U,EAAkBpP,EAAKmO,WAAWc,EAAW,GAC7CI,EAAkBrP,EAAKmO,WAAWe,EAAW,GAC1C3U,EAAI,EAAGA,EAAI8U,EAAgB9c,SAAUgI,EAC5C6U,EAAgBpV,KAAKqV,EAAgB9U,IACvCyF,EAAK+C,SAAS,CACZuM,MAAO,qCACPC,KAAM,8HACN/B,IAAKwB,EACLL,UAAWS,SAGV,GAAa,IAAV5K,EAAa,CAEnBxE,EAAK3N,MAAMqc,OAAO1U,KAAK,qBACvB,IAAI,IAAIO,EAAI,EAAGA,EAAIyF,EAAK3N,MAAMsc,UAAUpc,SAAUgI,EAEhDyF,EAAK3N,MAAMqc,OAAO1U,KAAKgG,EAAK3N,MAAMsc,UAAUpU,GAAGhH,IAAI,SAAA6L,GAAO,OAAQA,KAClEY,EAAK3N,MAAMqc,OAAO1U,KAAKgG,EAAK3N,MAAMwc,eAAc,aAAAnb,OAAc6G,KAC9DyF,EAAK3N,MAAMqc,OAAO1U,KAAK,MAGzB,IADA,IAAI6U,EAAiB,GACZtU,EAAI,EAAGA,EAAI,GAAIA,IACtBsU,EAAc,aAAAnb,OAAc6G,KAAO,EAErCyF,EAAK+C,SAAS,CACZ8L,eAAgBA,IAKlB,IADA,IAAMW,EAAQ,GACLjV,EAAI,EAAGA,EAAI,KAAMA,EACxBiV,EAAMxV,KAAKgG,EAAK6D,IAAItJ,IAGtB,IADA,IAAMkV,EAAa,GAAIC,EAAa,GAC3BnV,EAAI,GAAIA,EAAIyF,EAAKD,MAAMnM,WAAWrB,SAAUgI,GAE9CyF,EAAKD,MAAM5L,OAAO,GAAK6L,EAAKD,MAAM5L,OAAOoG,IAAMyF,EAAKD,MAAM5L,OAAO,GAAK,GACzEsb,EAAWzV,KAAKgG,EAAKmP,mBAAmB5U,IAExCmV,EAAW1V,KAAKgG,EAAKmP,mBAAmB5U,IAI5C,IAFA,IAAMoV,EAAmB3P,EAAKmO,WAAWsB,EAAY,GAC/CG,EAAmB5P,EAAKmO,WAAWuB,EAAY,GAC5CnV,EAAI,EAAGA,EAAIqV,EAAiBrd,SAAUgI,EAC7CoV,EAAiB3V,KAAK4V,EAAiBrV,IACzCyF,EAAK+C,SAAS,CACZuM,MAAO,sCACPC,KAAM,+HACN/B,IAAKgC,EACLb,UAAWgB,QAIf,CAEE3P,EAAK3N,MAAMqc,OAAO1U,KAAK,sBACvB,IAAI,IAAIO,EAAI,EAAGA,EAAIyF,EAAK3N,MAAMsc,UAAUpc,SAAUgI,EAEhDyF,EAAK3N,MAAMqc,OAAO1U,KAAKgG,EAAK3N,MAAMsc,UAAUpU,GAAGhH,IAAI,SAAA6L,GAAO,OAAQA,KAClEY,EAAK3N,MAAMqc,OAAO1U,KAAKgG,EAAK3N,MAAMwc,eAAc,aAAAnb,OAAc6G,KAC9DyF,EAAK3N,MAAMqc,OAAO1U,KAAK,MAGzB,IAAI6V,EAAO,IAAIC,KAAK,CAAC9P,EAAK3N,MAAMqc,QAAS,CAACxc,KAAM,eAC5C6d,EAAMC,IAAIC,gBAAgBJ,GAC1BK,EAAeC,SAAS/O,cAAc,KAC1C8O,EAAaE,KAAOL,EACpBG,EAAaG,SAAW,aACxBF,SAASG,KAAKtF,YAAYkF,GAC1BA,EAAaK,QACbJ,SAASG,KAAKjF,YAAY6E,GAC1BlQ,EAAKD,MAAMyQ,YA1MbxQ,EAAK4D,IAAM,GACX5D,EAAKD,MAAMnN,WAAWG,QAAQ,SAAAE,GAAoB,IAAAgO,EAAA/N,YAAAD,EAAA,GAAlBE,EAAI8N,EAAA,GAAQA,EAAA,GAC1C,GAAIjB,EAAKD,MAAMjN,KAAKK,GAAO,CACzB,IAAMsd,EAAK5P,IAAAO,cAAA,MAAIvM,IAAK1B,GAAOA,GAC3B6M,EAAK4D,IAAI5J,KAAKyW,MAGlBzQ,EAAK4D,IAAI5J,KAAK6G,IAAAO,cAAA,MAAIvM,IAAI,oBAGtBmL,EAAKmP,mBAAqB,GAC1B,IAAI,IAAI5U,EAAI,EAAGA,EAAIyF,EAAKD,MAAMnM,WAAWrB,SAAUgI,EACnD,CAEE,IADA,IAAImW,EAAK,GAAIlM,EAAQxE,EAAKD,MAAMnM,WAAW2G,GACnCmE,EAAI,EAAGA,EAAIsB,EAAKD,MAAMlN,WAAW2R,GAAOjS,SAAUmM,EACxDgS,EAAG1W,KAAKgG,EAAKD,MAAMlN,WAAW2R,GAAO9F,IACvCgS,EAAG1W,KAAKgG,EAAKD,MAAM5L,OAAOoG,IAC1BmW,EAAG1W,KAAKO,EAAE,GACVyF,EAAKmP,mBAAmBnV,KAAK0W,GAI/B1Q,EAAK6D,IAAM7D,EAAKD,MAAMnM,WAAWL,IAAI,SAACC,EAAK+G,GAAC,OACxCsG,IAAAO,cAAA,MAAIvM,IAAK0F,EAAGwJ,cAAY,UAAUC,MAAOhE,EAAKD,MAAMpN,OAAOa,IACxDwM,EAAKD,MAAMlN,WAAWW,GAAKD,IAAI,SAAC6L,EAAGV,GAAC,OACjCmC,IAAAO,cAAA,MAAIvM,IAAK6J,GAAIU,KAEjByB,IAAAO,cAAA,MAAIvM,IAAI,sBAOd,IAFA,IAAM2Y,EAAM,CAACxN,EAAK6D,IAAI,IAChB8M,EAAY,GAAIC,EAAY,GACzBrW,EAAI,EAAGA,EAAIyF,EAAKD,MAAMnM,WAAWrB,SAAUgI,GAE7CyF,EAAKD,MAAM5L,OAAO,GAAK6L,EAAKD,MAAM5L,OAAOoG,IAAMyF,EAAKD,MAAM5L,OAAO,GAAK,GACzEwc,EAAU3W,KAAKgG,EAAKmP,mBAAmB5U,IAEvCqW,EAAU5W,KAAKgG,EAAKmP,mBAAmB5U,IAI3C,IAFA,IAAMsW,EAAkB7Q,EAAKmO,WAAWwC,EAAW,GAC7CG,EAAkB9Q,EAAKmO,WAAWyC,EAAW,GAC1CrW,EAAI,EAAGA,EAAIuW,EAAgBve,SAAUgI,EAC5CsW,EAAgB7W,KAAK8W,EAAgBvW,IAGvC,IADA,IAAMwW,EAAU,GACRxW,EAAI,EAAGA,EAAIyF,EAAKD,MAAMnM,WAAWrB,SAAUgI,EAEjDwW,EAAQ/W,KAAKgG,EAAKmP,mBAAmB5U,GAAGhH,IAAI,SAAC6L,EAAGV,GAAQ,OAAQU,KAChE2R,EAAQ/W,KAAK,MAIf,IADA,IAAI6U,EAAiB,GACZtU,EAAI,EAAGA,EAAI,GAAIA,IACtBsU,EAAc,aAAAnb,OAAc6G,KAAO,EAWnC,OARFyF,EAAK3N,MAAQ,CACXid,MAAO,6BACPC,KAAM,oHACN3L,IAAK5D,EAAK4D,IACV4J,IAAKA,EACLmB,UAAWkC,EACXnC,OAAQqC,EACRlC,eAAgBA,GAChB7O,EA4MH,OAzMAe,YAAAmN,EAAA,EAAArZ,IAAA,uBAAAE,MAcD,SAAqB0L,GAAO,IAAAuQ,EACFvQ,EAAME,OAAtBgB,EAAEqP,EAAFrP,GAAIH,EAAOwP,EAAPxP,QACZvK,KAAK8L,SAAS,SAAA0L,GAAS,MAAK,CAC1BI,eAAczb,YAAA,GACTqb,EAAUI,eAAcvM,YAAA,GAC1BX,EAAKH,OAGVsN,QAAQC,IAAI9X,KAAK5E,MAAMwc,kBACxB,CAAAha,IAAA,SAAAE,MAkHD,WAAS,IAAAiM,EAAA/J,KACDga,EAAoBha,KAAK5E,MAAMsc,UAAUpb,IAAI,SAACC,EAAK+G,GAAC,OACtDsG,IAAAO,cAAA,MAAIvM,IAAK0F,EAAGwJ,cAAY,UAAUC,MAAOhD,EAAKjB,MAAMpN,OAAOa,IACzDqN,IAAAO,cAAA,MAAIvM,IAAK,GAAIrB,EAAI,IACjBqN,IAAAO,cAAA,MAAIvM,IAAK,GAAIrB,EAAI,IACjBqN,IAAAO,cAAA,MAAIvM,IAAK,GAAIrB,EAAI,IACjBqN,IAAAO,cAAA,MAAIvM,IAAK,GAAIrB,EAAI,IACjBqN,IAAAO,cAAA,UACEP,IAAAO,cAAA,SACIlP,KAAK,WACLyP,GAAE,aAAAjO,OAAe6G,GACjBM,KAAI,aAAAnH,OAAe6G,GACnBkH,SAAUT,EAAKkQ,qBAAqBC,KAAKnQ,GACzCQ,QAASR,EAAK3O,MAAMwc,eAAc,aAAAnb,OAAc6G,UAM5D,OACIsG,IAAAO,cAAA,WACEP,IAAAO,cAAA,OAAKC,UAAU,0BACbR,IAAAO,cAAA,UAAKnK,KAAK5E,MAAMid,OAChBzO,IAAAO,cAAA,SAAOC,UAAWyM,KAAW,QAAS,cAAe,CAC5CC,cAAe9W,KAAK4M,IAAItR,OAAS,IAEnCsP,MAAO,CACLC,SAAU,QACVsP,OAAQ,SAEfvQ,IAAAO,cAAA,aACAP,IAAAO,cAAA,UAAKnK,KAAK2M,MAEV/C,IAAAO,cAAA,aAAQnK,KAAK5E,MAAMmb,MAErB3M,IAAAO,cAAA,WACAP,IAAAO,cAAA,UAAKnK,KAAK5E,MAAMkd,MAChB1O,IAAAO,cAAA,SACIC,UAAWyM,KAAW,QAAS,cAAe,CAC5CC,cAAe9W,KAAK4M,IAAItR,OAAS,IAEnCsP,MAAO,CACLC,SAAU,QACVsP,OAAQ,SAGZvQ,IAAAO,cAAA,aACAP,IAAAO,cAAA,UAAKnK,KAAK2M,MAEV/C,IAAAO,cAAA,aAAQ6P,IAEVpQ,IAAAO,cAAA,WACAP,IAAAO,cAAA,WACEP,IAAAO,cAAA,UACIlP,KAAK,SACLmP,UAAU,kBACVQ,MAAO,CAACE,MAAO,QACfC,QAAS,kBAAMhB,EAAKwN,aAAaxN,EAAK3O,MAAMmb,IAAIjb,UAAS,iBAOxE2b,EAjRS,CAASrN,IAAMoB,WA6SZC,eAzBS,SAAHhB,GAOb,MACD,CACLvO,OARMuO,EAANvO,OASAE,WARUqO,EAAVrO,WASAe,WARUsN,EAAVtN,WASAhB,WARUsO,EAAVtO,WASAE,KARIoO,EAAJpO,KASAiB,cARamN,EAAbnN,cASAI,OARM+M,EAAN/M,SAWyB,SAAAiO,GAAQ,MAAK,CACtCoO,QAAS,WACPpO,EAASpQ,EAAmB,QAC5BoQ,EbzP0B,CAC5BlQ,KAhDqB,ea4SRgQ,CAGbgM,0cC1SF,IACMmD,GAAG,SAAA1R,GAAAC,YAAAyR,EAAA1R,GAAA,IAAAE,EAAAC,GAAAuR,GACL,SAAAA,EAAYtR,GAAO,OAAAE,YAAAhJ,KAAAoa,GAAAxR,EAAAjJ,KAAAK,KACT8I,GAST,OARAgB,YAAAsQ,EAAA,EAAAxc,IAAA,SAAAE,MAED,WACI,OACI8L,IAAAO,cAAA,OAAKC,UAAU,qBAAqBQ,MAAO,CAAEC,SAAU,UACnDjB,IAAAO,cAAA,UAAI,uCAGfiQ,EAXI,CAASxQ,IAAMoB,WAwBTC,eAVS,SAAHlP,GAAoC,MAAQ,CAC7DJ,WADiCI,EAAVJ,WAEvBE,KAFuCE,EAAJF,KAGnCJ,OAH+CM,EAANN,OAIzCuB,KAJqDjB,EAAJiB,OAO1B,SAAAmO,GAAQ,MAAK,IAGzBF,CAGbmP,IClBF,IAIenP,eAJS,SAAHjP,GAAqB,MAAQ,CAChDb,gBADwCa,EAAfb,kBAIZ8P,CAnBf,SAAYlP,GACV,OAD4BA,EAAfZ,iBAEX,IAAK,UACH,OAAOyO,IAAAO,cAAC1B,EAAO,MACjB,IAAK,cACH,OAAOmB,IAAAO,cAAC6M,GAAW,MACrB,IAAK,SACH,OAAOpN,IAAAO,cAAC8M,GAAM,MAChB,IAAK,MACH,OAAOrN,IAAAO,cAACiQ,GAAG,MACb,QACE,OAAOxQ,IAAAO,cAAA,6BCjBbhN,GAAA,kBAAAC,GAAA,IAAAA,EAAA,GAAAC,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAI,gBAAA,SAAAC,EAAAC,EAAAC,GAAAF,EAAAC,GAAAC,EAAAC,OAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAC,EAAAZ,EAAAC,EAAAE,GAAA,OAAAR,OAAAI,eAAAC,EAAAC,EAAA,CAAAE,QAAAU,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAf,EAAAC,GAAA,IAAAW,EAAA,aAAAI,GAAAJ,EAAA,SAAAZ,EAAAC,EAAAE,GAAA,OAAAH,EAAAC,GAAAE,GAAA,SAAAc,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,KAAAvB,qBAAA2B,EAAAJ,EAAAI,EAAAC,EAAA7B,OAAA8B,OAAAH,EAAA1B,WAAA8B,EAAA,IAAAC,EAAAN,GAAA,WAAAtB,EAAAyB,EAAA,WAAArB,MAAAyB,EAAAV,EAAAE,EAAAM,KAAAF,EAAA,SAAAK,EAAAC,EAAA9B,EAAA+B,GAAA,WAAAzE,KAAA,SAAAyE,IAAAD,EAAAE,KAAAhC,EAAA+B,IAAA,MAAAf,GAAA,OAAA1D,KAAA,QAAAyE,IAAAf,IAAAvB,EAAAwB,OAAA,IAAAgB,EAAA,YAAAV,KAAA,SAAAW,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAxB,EAAAwB,EAAA9B,EAAA,kBAAA+B,OAAA,IAAAC,EAAA3C,OAAA4C,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAA9C,GAAAG,EAAAmC,KAAAQ,EAAAlC,KAAA8B,EAAAI,GAAA,IAAAE,EAAAP,EAAAvC,UAAA2B,EAAA3B,UAAAD,OAAA8B,OAAAW,GAAA,SAAAO,EAAA/C,GAAA,0BAAAzB,QAAA,SAAAyE,GAAAhC,EAAAhB,EAAAgD,EAAA,SAAAb,GAAA,OAAAM,KAAAQ,QAAAD,EAAAb,OAAA,SAAAe,EAAAtB,EAAAuB,GAAA,IAAAC,EAAAjD,EAAAsC,KAAA,WAAAlC,MAAA,SAAAyC,EAAAb,GAAA,SAAAkB,IAAA,WAAAF,EAAA,SAAAG,EAAAC,IAAA,SAAAC,EAAAR,EAAAb,EAAAmB,EAAAC,GAAA,IAAAE,EAAAxB,EAAAL,EAAAoB,GAAApB,EAAAO,GAAA,aAAAsB,EAAA/F,KAAA,KAAAgG,EAAAD,EAAAtB,IAAA5B,EAAAmD,EAAAnD,MAAA,OAAAA,GAAA,iBAAAA,GAAAN,EAAAmC,KAAA7B,EAAA,WAAA4C,EAAAG,QAAA/C,EAAAoD,SAAAC,KAAA,SAAArD,GAAAiD,EAAA,OAAAjD,EAAA+C,EAAAC,IAAA,SAAAnC,GAAAoC,EAAA,QAAApC,EAAAkC,EAAAC,KAAAJ,EAAAG,QAAA/C,GAAAqD,KAAA,SAAAC,GAAAH,EAAAnD,MAAAsD,EAAAP,EAAAI,IAAA,SAAAI,GAAA,OAAAN,EAAA,QAAAM,EAAAR,EAAAC,OAAAE,EAAAtB,KAAAqB,CAAAR,EAAAb,EAAAmB,EAAAC,KAAA,OAAAH,MAAAQ,KAAAP,YAAA,SAAArB,EAAAV,EAAAE,EAAAM,GAAA,IAAAjE,EAAA,iCAAAmF,EAAAb,GAAA,iBAAAtE,EAAA,UAAAkG,MAAA,iDAAAlG,EAAA,cAAAmF,EAAA,MAAAb,EAAA,OAAA6B,IAAA,IAAAlC,EAAAkB,SAAAlB,EAAAK,QAAA,KAAA8B,EAAAnC,EAAAmC,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAAnC,GAAA,GAAAoC,EAAA,IAAAA,IAAA7B,EAAA,gBAAA6B,GAAA,YAAApC,EAAAkB,OAAAlB,EAAAsC,KAAAtC,EAAAuC,MAAAvC,EAAAK,SAAA,aAAAL,EAAAkB,OAAA,uBAAAnF,EAAA,MAAAA,EAAA,YAAAiE,EAAAK,IAAAL,EAAAwC,kBAAAxC,EAAAK,SAAA,WAAAL,EAAAkB,QAAAlB,EAAAyC,OAAA,SAAAzC,EAAAK,KAAAtE,EAAA,gBAAA4F,EAAAxB,EAAAX,EAAAE,EAAAM,GAAA,cAAA2B,EAAA/F,KAAA,IAAAG,EAAAiE,EAAA0C,KAAA,6BAAAf,EAAAtB,MAAAE,EAAA,gBAAA9B,MAAAkD,EAAAtB,IAAAqC,KAAA1C,EAAA0C,MAAA,UAAAf,EAAA/F,OAAAG,EAAA,YAAAiE,EAAAkB,OAAA,QAAAlB,EAAAK,IAAAsB,EAAAtB,OAAA,SAAAgC,EAAAF,EAAAnC,GAAA,IAAA2C,EAAA3C,EAAAkB,SAAAiB,EAAAtD,SAAA8D,GAAA,QAAAzG,IAAAgF,EAAA,OAAAlB,EAAAmC,SAAA,eAAAQ,GAAAR,EAAAtD,SAAA+D,SAAA5C,EAAAkB,OAAA,SAAAlB,EAAAK,SAAAnE,EAAAmG,EAAAF,EAAAnC,GAAA,UAAAA,EAAAkB,SAAA,WAAAyB,IAAA3C,EAAAkB,OAAA,QAAAlB,EAAAK,IAAA,IAAAwC,UAAA,oCAAAF,EAAA,aAAApC,EAAA,IAAAoB,EAAAxB,EAAAe,EAAAiB,EAAAtD,SAAAmB,EAAAK,KAAA,aAAAsB,EAAA/F,KAAA,OAAAoE,EAAAkB,OAAA,QAAAlB,EAAAK,IAAAsB,EAAAtB,IAAAL,EAAAmC,SAAA,KAAA5B,EAAA,IAAAuC,EAAAnB,EAAAtB,IAAA,OAAAyC,IAAAJ,MAAA1C,EAAAmC,EAAAY,YAAAD,EAAArE,MAAAuB,EAAAgD,KAAAb,EAAAc,QAAA,WAAAjD,EAAAkB,SAAAlB,EAAAkB,OAAA,OAAAlB,EAAAK,SAAAnE,GAAA8D,EAAAmC,SAAA,KAAA5B,GAAAuC,GAAA9C,EAAAkB,OAAA,QAAAlB,EAAAK,IAAA,IAAAwC,UAAA,oCAAA7C,EAAAmC,SAAA,KAAA5B,GAAA,SAAA2C,EAAAC,GAAA,IAAAC,EAAA,CAAAC,OAAAF,EAAA,SAAAA,IAAAC,EAAAE,SAAAH,EAAA,SAAAA,IAAAC,EAAAG,WAAAJ,EAAA,GAAAC,EAAAI,SAAAL,EAAA,IAAAxC,KAAA8C,WAAAC,KAAAN,GAAA,SAAAO,EAAAP,GAAA,IAAAzB,EAAAyB,EAAAQ,YAAA,GAAAjC,EAAA/F,KAAA,gBAAA+F,EAAAtB,IAAA+C,EAAAQ,WAAAjC,EAAA,SAAA1B,EAAAN,GAAAgB,KAAA8C,WAAA,EAAAJ,OAAA,SAAA1D,EAAAlD,QAAAyG,EAAAvC,WAAAkD,OAAA,YAAA9C,EAAA+C,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAAlF,GAAA,GAAAmF,EAAA,OAAAA,EAAAzD,KAAAwD,GAAA,sBAAAA,EAAAd,KAAA,OAAAc,EAAA,IAAAE,MAAAF,EAAA7H,QAAA,KAAAgI,GAAA,EAAAjB,EAAA,SAAAA,IAAA,OAAAiB,EAAAH,EAAA7H,QAAA,GAAAkC,EAAAmC,KAAAwD,EAAAG,GAAA,OAAAjB,EAAAvE,MAAAqF,EAAAG,GAAAjB,EAAAN,MAAA,EAAAM,EAAA,OAAAA,EAAAvE,WAAAvC,EAAA8G,EAAAN,MAAA,EAAAM,GAAA,OAAAA,UAAA,OAAAA,KAAAd,GAAA,SAAAA,IAAA,OAAAzD,WAAAvC,EAAAwG,MAAA,UAAAlC,EAAAtC,UAAAuC,EAAApC,EAAA2C,EAAA,eAAAvC,MAAAgC,EAAArB,cAAA,IAAAf,EAAAoC,EAAA,eAAAhC,MAAA+B,EAAApB,cAAA,IAAAoB,EAAA0D,YAAAhF,EAAAuB,EAAAzB,EAAA,qBAAAjB,EAAAoG,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAAE,YAAA,QAAAD,QAAA7D,GAAA,uBAAA6D,EAAAH,aAAAG,EAAAE,QAAAxG,EAAAyG,KAAA,SAAAJ,GAAA,OAAAnG,OAAAwG,eAAAxG,OAAAwG,eAAAL,EAAA3D,IAAA2D,EAAAM,UAAAjE,EAAAvB,EAAAkF,EAAApF,EAAA,sBAAAoF,EAAAlG,UAAAD,OAAA8B,OAAAiB,GAAAoD,GAAArG,EAAA4G,MAAA,SAAAtE,GAAA,OAAAwB,QAAAxB,IAAAY,EAAAG,EAAAlD,WAAAgB,EAAAkC,EAAAlD,UAAAY,EAAA,kBAAA6B,OAAA5C,EAAAqD,gBAAArD,EAAA6G,MAAA,SAAApF,EAAAC,EAAAC,EAAAC,EAAA0B,QAAA,IAAAA,MAAAwD,SAAA,IAAAC,EAAA,IAAA1D,EAAA7B,EAAAC,EAAAC,EAAAC,EAAAC,GAAA0B,GAAA,OAAAtD,EAAAoG,oBAAA1E,GAAAqF,IAAA9B,OAAAlB,KAAA,SAAAF,GAAA,OAAAA,EAAAc,KAAAd,EAAAnD,MAAAqG,EAAA9B,UAAA/B,EAAAD,GAAA9B,EAAA8B,EAAAhC,EAAA,aAAAE,EAAA8B,EAAApC,EAAA,kBAAA+B,OAAAzB,EAAA8B,EAAA,mDAAAjD,EAAAgH,KAAA,SAAAC,GAAA,IAAAC,EAAAhH,OAAA+G,GAAAD,EAAA,WAAAxG,KAAA0G,EAAAF,EAAArB,KAAAnF,GAAA,OAAAwG,EAAAG,UAAA,SAAAlC,IAAA,KAAA+B,EAAA9I,QAAA,KAAAsC,EAAAwG,EAAAI,MAAA,GAAA5G,KAAA0G,EAAA,OAAAjC,EAAAvE,MAAAF,EAAAyE,EAAAN,MAAA,EAAAM,EAAA,OAAAA,EAAAN,MAAA,EAAAM,IAAAjF,EAAAgD,SAAAd,EAAA/B,UAAA,CAAAoG,YAAArE,EAAA4D,MAAA,SAAAuB,GAAA,GAAAzE,KAAAjD,KAAA,EAAAiD,KAAAqC,KAAA,EAAArC,KAAA2B,KAAA3B,KAAA4B,WAAArG,EAAAyE,KAAA+B,MAAA,EAAA/B,KAAAwB,SAAA,KAAAxB,KAAAO,OAAA,OAAAP,KAAAN,SAAAnE,EAAAyE,KAAA8C,WAAAhH,QAAAkH,IAAAyB,EAAA,QAAAb,KAAA5D,KAAA,MAAA4D,EAAAc,OAAA,IAAAlH,EAAAmC,KAAAK,KAAA4D,KAAAP,OAAAO,EAAAe,MAAA,MAAA3E,KAAA4D,QAAArI,IAAAqJ,KAAA,WAAA5E,KAAA+B,MAAA,MAAA8C,EAAA7E,KAAA8C,WAAA,GAAAG,WAAA,aAAA4B,EAAA5J,KAAA,MAAA4J,EAAAnF,IAAA,OAAAM,KAAA8E,MAAAjD,kBAAA,SAAAkD,GAAA,GAAA/E,KAAA+B,KAAA,MAAAgD,EAAA,IAAA1F,EAAAW,KAAA,SAAAgF,EAAAC,EAAAC,GAAA,OAAAlE,EAAA/F,KAAA,QAAA+F,EAAAtB,IAAAqF,EAAA1F,EAAAgD,KAAA4C,EAAAC,IAAA7F,EAAAkB,OAAA,OAAAlB,EAAAK,SAAAnE,KAAA2J,EAAA,QAAA5B,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAAtC,EAAAyB,EAAAQ,WAAA,YAAAR,EAAAC,OAAA,OAAAsC,EAAA,UAAAvC,EAAAC,QAAA1C,KAAAjD,KAAA,KAAAoI,EAAA3H,EAAAmC,KAAA8C,EAAA,YAAA2C,EAAA5H,EAAAmC,KAAA8C,EAAA,iBAAA0C,GAAAC,EAAA,IAAApF,KAAAjD,KAAA0F,EAAAE,SAAA,OAAAqC,EAAAvC,EAAAE,UAAA,MAAA3C,KAAAjD,KAAA0F,EAAAG,WAAA,OAAAoC,EAAAvC,EAAAG,iBAAA,GAAAuC,GAAA,GAAAnF,KAAAjD,KAAA0F,EAAAE,SAAA,OAAAqC,EAAAvC,EAAAE,UAAA,YAAAyC,EAAA,UAAA9D,MAAA,6CAAAtB,KAAAjD,KAAA0F,EAAAG,WAAA,OAAAoC,EAAAvC,EAAAG,gBAAAd,OAAA,SAAA7G,EAAAyE,GAAA,QAAA4D,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAA,GAAAb,EAAAC,QAAA1C,KAAAjD,MAAAS,EAAAmC,KAAA8C,EAAA,eAAAzC,KAAAjD,KAAA0F,EAAAG,WAAA,KAAAyC,EAAA5C,EAAA,OAAA4C,IAAA,UAAApK,GAAA,aAAAA,IAAAoK,EAAA3C,QAAAhD,MAAA2F,EAAAzC,aAAAyC,EAAA,UAAArE,EAAAqE,IAAApC,WAAA,UAAAjC,EAAA/F,OAAA+F,EAAAtB,MAAA2F,GAAArF,KAAAO,OAAA,OAAAP,KAAAqC,KAAAgD,EAAAzC,WAAAhD,GAAAI,KAAAsF,SAAAtE,IAAAsE,SAAA,SAAAtE,EAAA6B,GAAA,aAAA7B,EAAA/F,KAAA,MAAA+F,EAAAtB,IAAA,gBAAAsB,EAAA/F,MAAA,aAAA+F,EAAA/F,KAAA+E,KAAAqC,KAAArB,EAAAtB,IAAA,WAAAsB,EAAA/F,MAAA+E,KAAA8E,KAAA9E,KAAAN,IAAAsB,EAAAtB,IAAAM,KAAAO,OAAA,SAAAP,KAAAqC,KAAA,kBAAArB,EAAA/F,MAAA4H,IAAA7C,KAAAqC,KAAAQ,GAAAjD,GAAA2F,OAAA,SAAA3C,GAAA,QAAAU,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAA,GAAAb,EAAAG,eAAA,OAAA5C,KAAAsF,SAAA7C,EAAAQ,WAAAR,EAAAI,UAAAG,EAAAP,GAAA7C,IAAA4F,MAAA,SAAA9C,GAAA,QAAAY,EAAAtD,KAAA8C,WAAAxH,OAAA,EAAAgI,GAAA,IAAAA,EAAA,KAAAb,EAAAzC,KAAA8C,WAAAQ,GAAA,GAAAb,EAAAC,WAAA,KAAA1B,EAAAyB,EAAAQ,WAAA,aAAAjC,EAAA/F,KAAA,KAAAwK,EAAAzE,EAAAtB,IAAAsD,EAAAP,GAAA,OAAAgD,GAAA,UAAAnE,MAAA,0BAAAoE,cAAA,SAAAvC,EAAAf,EAAAE,GAAA,OAAAtC,KAAAwB,SAAA,CAAAtD,SAAAkC,EAAA+C,GAAAf,aAAAE,WAAA,SAAAtC,KAAAO,SAAAP,KAAAN,SAAAnE,GAAAqE,IAAAxC,EAOAyK,OAAOC,OAAS,CACduS,qBAAoB,eAAAC,EAAAlU,YAAAjJ,KAAA0G,KAAE,SAAAwC,IAAA,IAAAkU,EAAAC,EAAA/e,EAAAC,EAAAC,EAAAE,EAAA4e,EAAA,OAAAtd,KAAAyB,KAAA,SAAA6H,GAAA,cAAAA,EAAA1J,KAAA0J,EAAApE,MAAA,cAAAoE,EAAApE,KAAA,EACW8D,EAC7B,sBACA,+BACD,OAAAoU,EAAA9T,EAAA9E,KAAA6Y,EAAAve,YAAAse,EAAA,GAHM9e,EAAM+e,EAAA,GAAE9e,EAAM8e,EAAA,GAUf3e,EAAO,IANPF,EAAa,CACjB,CAAC,cAAe,CAAE0L,IAAK,IAAMC,KAAM,IAAOiF,eAAe,IACzD,CAAC,OAAQ,CAAElF,IAAK,KAAMC,KAAM,KAAMiF,eAAe,IACjD,CAAC,aAAc,CAAElF,IAAK,GAAIC,KAAM,IAAKiF,eAAe,IACpD,CAAC,UAAW,CAAElF,IAAK,IAAOC,KAAM,KAAQiF,eAAe,MAG9CzQ,QAAQ,SAAAC,GAAoB,IAAAC,EAAAC,YAAAF,EAAA,GAAlBG,EAAIF,EAAA,GAAQA,EAAA,GAC/BH,EAAKK,GAAQ,IAGTue,EAAQC,YACZC,EACA,CAAElf,SAAQC,SAAQC,aAAYE,SAIhCqX,iBACEtJ,IAAAO,cAACyQ,IAAQ,CAACH,MAAOA,GACf7Q,IAAAO,cAAC0Q,GAAG,OAEN3B,SAAS4B,eAAe,SACxB,yBAAArU,EAAA7B,SAAAyB,MACH,yBAAAiU,EAAArT,MAAAjH,KAAA3E,YA5BmB,IAgCtB,IAAM0f,GAAS7B,SAAS/O,cAAc,UACtC4Q,GAAOC,IAAM,SACbD,GAAO9W,OAAQ,EACfiV,SAASG,KAAKtF,YAAYgH","file":"static/js/main.9ca049f2.chunk.js","sourcesContent":["export const SET_ACTIVE_COMPONENT = \"SET_ACTIVE_COMPONENT\";\r\nexport const SET_CANDIDATES = \"SET_CANDIDATES\";\r\nexport const SET_DATASET = \"SET_DATASET\";\r\nexport const TOGGLE_MASK = \"TOGGLE_MASK\";\r\nexport const PRUNE_POINTS = \"PRUNE_POINTS\";\r\nexport const SET_LEFT_POINTS = \"SET_LEFT_POINTS\";\r\nexport const SET_MODE = \"SET_MODE\";\r\nexport const RESTART = \"RESTART\";\r\nexport const UPDATE_CONVEX_HULL = \"UPDATE_CONVEX_HULL\";\r\nexport const SET_SCORE = \"SET_SCORE\";\r\n\r\nexport const setActiveComponent = component => ({\r\n  type: SET_ACTIVE_COMPONENT,\r\n  component\r\n});\r\n\r\nexport const setCandidates = candidates => ({\r\n  type: SET_CANDIDATES,\r\n  candidates\r\n});\r\n\r\nexport const setDataset = (points, labels, attributes) => ({\r\n  type: SET_DATASET,\r\n  points,\r\n  labels,\r\n  attributes\r\n});\r\n\r\nexport const toggleMask = (attr, val) => ({\r\n  type: TOGGLE_MASK,\r\n  mask: { [attr]: val }\r\n});\r\n\r\nexport const prunePoints = (indices, step) => ({\r\n  type: PRUNE_POINTS,\r\n  indices,\r\n  step\r\n});\r\n\r\nexport const setLeftPoints = indices => ({\r\n  type: SET_LEFT_POINTS,\r\n  indices\r\n});\r\n\r\nexport const setScore = scores => ({\r\n  type: SET_SCORE,\r\n  scores\r\n})\r\n\r\nexport const changeMode = mode => ({\r\n  type: SET_MODE,\r\n  mode\r\n});\r\n\r\nexport const restart = () => ({\r\n  type: RESTART\r\n});\r\n\r\nexport const updateConvexHull = vertices => ({\r\n  type: UPDATE_CONVEX_HULL,\r\n  vertices\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  SET_ACTIVE_COMPONENT,\r\n  SET_DATASET,\r\n  SET_CANDIDATES,\r\n  TOGGLE_MASK,\r\n  SET_LEFT_POINTS,\r\n  PRUNE_POINTS,\r\n  SET_MODE,\r\n  RESTART,\r\n  UPDATE_CONVEX_HULL,\r\n  SET_SCORE\r\n} from \"../actions\";\r\n\r\nconst activeComponent = (state = \"Welcome\", action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_COMPONENT:\r\n      return action.component;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// all points in the dataset\r\nconst points = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.points;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//the scores of all points in the dataset\r\nconst scores = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_SCORE:\r\n      return action.scores;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n// the labels of points\r\nconst labels = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.labels;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the attribute names\r\nconst attributes = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.attributes;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points in the specified ranges.\r\nconst candidates = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_CANDIDATES:\r\n      return action.candidates;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// show/hide attributes (this feature is not exposed in the UI)\r\nconst mask = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      const mask = {};\r\n      action.attributes.forEach(([attr, config]) => {\r\n        mask[attr] = 1;\r\n      });\r\n      return mask;\r\n    case TOGGLE_MASK:\r\n      return { ...state, ...action.mask };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points pruned.\r\n// it is an array of [idx, step no.]\r\nconst prunedPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case PRUNE_POINTS:\r\n      const points = action.indices.map(idx => [idx, action.step]);\r\n      return [...points, ...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of candidate points\r\n// it is an array of indices\r\nconst leftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case SET_LEFT_POINTS:\r\n      return action.indices;\r\n    case PRUNE_POINTS:\r\n      return state.filter(idx => action.indices.indexOf(idx) === -1);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// history of the number of left points\r\nconst numLeftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_LEFT_POINTS:\r\n      return [action.indices.length];\r\n    case PRUNE_POINTS:\r\n      const prev = state[state.length - 1];\r\n      return [...state, prev - action.indices.length];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the algorithm to select a pair of points.\r\nconst mode = (state = \"simplex\", action) => {\r\n  switch (action.type) {\r\n    case SET_MODE:\r\n      return action.mode;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// vertices of the convex hull of the preference space.\r\nconst vertices = (state = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_CONVEX_HULL:\r\n      return action.vertices;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  activeComponent,\r\n  points,\r\n  labels,\r\n  attributes,\r\n  candidates,\r\n  mask,\r\n  prunedPoints,\r\n  leftPoints,\r\n  numLeftPoints,\r\n  mode,\r\n  vertices,\r\n  scores\r\n});\r\n","// read points from a text file\nfunction parsePoints(text) {\n  const points = text\n    .trim()\n    .split(\"\\n\")\n    .slice(1) // the first line is <numOfPoints> <dimension>\n    .map(line =>\n      line\n        .trim()\n        .split(/\\s+/)\n        .map(str => parseFloat(str))\n    );\n  return points; //obtain a 2D array\n}\n\n// read labels from a text file\nfunction parseLabels(text) {\n  const labels = text.trim().split(\"\\n\");\n  return labels;\n}\n\n// check if val is in the range [low, high].\nfunction isInRange(val, low, high) {\n  return low <= val && val <= high;\n}\n\n// get the range of each attribute in a set of points.\nexport const getRanges = points => {\n  const ranges = points[0].map(x => ({ low: x, high: x }));\n  points.slice(1).forEach(point => {\n    point.forEach((x, i) => {\n      ranges[i].low = Math.min(ranges[i].low, x);\n      ranges[i].high = Math.max(ranges[i].high, x);\n    });\n  });\n  return ranges; //obtain an array of objects\n};\n\n// load a dataset by reading its points and labels.\nexport const loadDataset = async (pointsURL, labelsURL) => {\n  let response = await fetch(pointsURL);\n  const points = parsePoints(await response.text());\n  if (labelsURL === undefined) {\n    return points;\n  }\n  response = await fetch(labelsURL);\n  const labels = parseLabels(await response.text());\n  return [points, labels];\n};\n\n// get points that are in the specified ranges.\nexport const selectCandidates = (points, ranges, mask, maxPoints) => {\n  const candidates = [];\n  for (let i = 0; i < points.length; ++i) {\n    if (candidates.length >= maxPoints) break;\n    const point = points[i];\n    let isValid = true;\n    for (let j = 0; j < point.length; ++j) {\n      if (mask[j] && !isInRange(point[j], ranges[j][0], ranges[j][1])) {\n        isValid = false;\n        break;\n      }\n    }\n    if (isValid) candidates.push(point);\n  }\n  return candidates;\n};\n\n// convert a JS array to a C++ 2D vector\nexport const array2Vector2D = array => {\n  const vector = new window.Module.VecVecDouble();\n  array.forEach(arr => {\n    const vec = new window.Module.VectorDouble();\n    arr.forEach(x => vec.push_back(x));\n    vector.push_back(vec);\n    vec.delete();\n  });\n  return vector;\n};\n\n// convert a C++ 2D vector to a JS array\nexport const vector2Array2D = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    const vec = vector.get(i);\n    const arr = [];\n    for (let j = 0; j < vec.size(); ++j) arr.push(vec.get(j));\n    array.push(arr);\n  }\n  return array;\n};\n\n// convert a C++ vector to a JS array\nexport const vector2Array = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    array.push(vector.get(i));\n  }\n  return array;\n};\n\n// get the indices of points pruned.\n// both prevIndices and currIndices need to be sorted.\nexport const getPrunedIndices = (prevIndices, currIndices) => {\n  let prunedIndices = [];\n  for (let i = 0, j = 0; i < prevIndices.size() || j < currIndices.size(); ) {\n    if (j >= currIndices.size() || prevIndices.get(i) < currIndices.get(j)) {\n      prunedIndices.push(prevIndices.get(i));\n      ++i;\n    } else {\n      ++i;\n      ++j;\n    }\n  }\n  return prunedIndices;\n};\n","import React from \"react\";\r\nimport {\r\n  setActiveComponent,\r\n  setCandidates,\r\n  toggleMask,\r\n  changeMode\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectCandidates } from \"../utils\";\r\n\r\n\r\n\r\n// the welcome scene containing a brief introduction and a table to obtain the user's input\r\nclass Welcome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputs = {};\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      this.inputs[attr] = [React.createRef(), React.createRef()];\r\n    });\r\n    this.inputs.maxPoints = React.createRef();\r\n  }\r\n\r\n  handleStart = () => {\r\n    const ranges = [];\r\n    const mask = [];\r\n    for (let i = 0; i < this.props.attributes.length; ++i) {\r\n      const [attr, config] = this.props.attributes[i];\r\n      const range = [config.low, config.high];\r\n      /*\r\n      if (this.props.mask[attr]) {\r\n        for (let j = 0; j < 2; ++j) {\r\n          const str = this.inputs[attr][j].current.value.trim();\r\n          if (str === \"\") continue;\r\n          else if (isNaN(str)) {\r\n            alert(`${str} in range of ${attr} is not an integer`);\r\n            return;\r\n          } else {\r\n            range[j] = parseFloat(str);\r\n          }\r\n        }\r\n\r\n      }\r\n      **/\r\n      ranges.push(range);\r\n      mask.push(this.props.mask[attr]);\r\n    }\r\n    let maxPoints = 1000;\r\n    /*\r\n    const str = this.inputs.maxPoints.current.value.trim();\r\n    if (str === \"\") maxPoints = 1000;\r\n    else if (/\\d+/.test(str)) maxPoints = parseInt(str);\r\n    else {\r\n      alert(`${str} for Max No. of Cars is not an integer`);\r\n      return;\r\n    }\r\n    */\r\n\r\n    const candidates = selectCandidates(\r\n      this.props.points,\r\n      ranges,\r\n      mask,\r\n      maxPoints\r\n    );\r\n    if (candidates.length === 0) {\r\n      alert(\"No matching cars, try larger ranges\");\r\n      return;\r\n    }\r\n    this.props.startAlgorithm(candidates);\r\n  };\r\n\r\n  handleModeChange = event => {\r\n    this.props.changeMode(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const trs = this.props.attributes.map(([attr, config]) => {\r\n      const disabled = this.props.mask[attr] === 0;\r\n      const { low, high } = config;\r\n      return (\r\n        <tr key={attr}>\r\n          <td className=\"align-middle\">{attr}</td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={low}\r\n              ref={this.inputs[attr][0]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={high}\r\n              ref={this.inputs[attr][1]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td className=\"align-middle hidden\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={disabled}\r\n              onChange={() =>\r\n                this.props.toggleMask(attr, 1 - this.props.mask[attr])\r\n              }\r\n            />\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n    trs.push(\r\n      <tr key=\"other\">\r\n        <td className=\"align-middle font-weight-bold\">Max No. of Cars</td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"1000\"\r\n            ref={this.inputs.maxPoints}\r\n          />\r\n        </td>\r\n        <td>\r\n          <div className=\"col form-inline align-items-center\">\r\n            <label className=\"mr-4 col-form-label font-weight-bold\">Mode</label>\r\n            <div className=\"mr-3 form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"inlineRadioOptions\"\r\n                id=\"simplex\"\r\n                value=\"simplex\"\r\n                checked={this.props.mode === \"simplex\"}\r\n                onChange={this.handleModeChange}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"simplex\">\r\n                Simplex\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check form-check-inline\">\r\n              <input\r\n                className=\"form-check-input\"\r\n                type=\"radio\"\r\n                name=\"inlineRadioOptions\"\r\n                id=\"random\"\r\n                value=\"random\"\r\n                checked={this.props.mode === \"random\"}\r\n                onChange={this.handleModeChange}\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"random\">\r\n                Random\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <td />\r\n      </tr>\r\n    );\r\n    return (\r\n      <div className=\"text-center m-auto\" style={{ maxWidth: \"40rem\" }}>\r\n        <h1>Welcome to Our Research Project!</h1>\r\n        <br />\r\n        <br />\r\n        <h4 >\r\n          There are two phases: Interaction and Evaluation. <br />\r\n        </h4>\r\n        <p className=\"lead text-left\">\r\n          1. In the Interaction phase, we want to ask you a few questions to learn <br />\r\n          your preference and then find some cars that you will be interested in. <br />\r\n          2. In the Evaluation phase, we will present you some cars and ask you <br />\r\n          whether you are interested in them.<br /><br />\r\n        </p>\r\n        <p className=\"lead text-muted\">\r\n          Click the \"Start\" button to start the research project. <br />\r\n        </p>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            style={{ width: \"8rem\" }}\r\n            onClick={this.handleStart}\r\n          >\r\n            Start\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ attributes, mask, points, mode }) => ({\r\n  attributes,\r\n  mask,\r\n  points,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  startAlgorithm: candidates => {\r\n    dispatch(setCandidates(candidates));\r\n    dispatch(setActiveComponent(\"Interaction\"));\r\n  },\r\n  toggleMask: (attr, mask) => dispatch(toggleMask(attr, mask)),\r\n  changeMode: mode => dispatch(changeMode(mode))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Welcome);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setActiveComponent,\r\n  setLeftPoints,\r\n  setScore,\r\n  prunePoints,\r\n  updateConvexHull\r\n} from \"../actions\";\r\nimport {\r\n  array2Vector2D,\r\n  vector2Array,\r\n  getPrunedIndices,\r\n  vector2Array2D\r\n} from \"../utils\";\r\n\r\nconst SIMPLEX = 2;\r\nconst RANDOM = 1;\r\n\r\n// iteratively ask the user to choose the preferred car from a pair of cars.\r\nclass Question extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const smallerBetter = new window.Module.VectorInt();\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        smallerBetter.push_back(config.smallerBetter ? 1 : 0);\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n    const candidatesVec = array2Vector2D(this.props.candidates);\r\n    this.runner = new window.Module.AlgorithmRunner(\r\n      candidatesVec,\r\n      smallerBetter,\r\n      this.props.mode === \"random\" ? RANDOM : SIMPLEX\r\n    );\r\n    candidatesVec.delete();\r\n    const indices = this.runner.nextPair();\r\n    this.state = {\r\n        pair: vector2Array(indices)\r\n    };\r\n  }\r\n\r\n  choose = idx => {\r\n    const option = idx + 1;\r\n    const accurracy = this.runner.choose(option);\r\n    if (accurracy > 0.99999)\r\n    {\r\n      this.stopInteraction();\r\n    }\r\n    else {\r\n      const indices = this.runner.nextPair();\r\n      this.setState({\r\n        pair: vector2Array(indices)\r\n      });\r\n    }\r\n  };\r\n\r\n  stopInteraction = () => {\r\n    //this.prevIndices.delete();\r\n    const Indicess = this.runner.getRanking();\r\n    this.props.setLeftPoints(vector2Array(Indicess));\r\n    const Scores = this.runner.getScore();\r\n    this.props.setScore(vector2Array(Scores));\r\n    this.runner.delete();\r\n    this.props.showResult();\r\n};\r\n\r\nrender() {\r\nconst ths = [<th key=\"Option No.\">Option</th>];\r\nthis.attributes.forEach(attr => {\r\n  ths.push(<th key={attr}>{attr}</th>);\r\n});\r\nths.push(<th key=\"chooseButton\" />);\r\n\r\nconst trs = this.state.pair.map((idx, i) => {\r\n  const tds = [<td key=\"Option No.\">{i + 1}</td>];\r\n  this.props.candidates[idx].forEach((x, j) => {\r\n    tds.push(<td key={j}>{x}</td>);\r\n  });\r\n  tds.push(\r\n    <td key=\"chooseButton\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-success btn-sm\"\r\n        onClick={() => this.choose(i)}\r\n      >\r\n        Choose\r\n      </button>\r\n    </td>\r\n  );\r\n  return (\r\n    <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n      {tds}\r\n    </tr>\r\n  );\r\n});\r\n\r\nreturn (\r\n  <div>\r\n    <h3>There will be consecutive questions.</h3>\r\n    <br/><br/>\r\n    <h4>\r\n      Q{this.runner.getNumQuestion()}: Choose the Car you favor more\r\n      between the following options\r\n    </h4>\r\n    <div className=\"row justify-content-center align-items-center\">\r\n      <div className=\"col-md-8\">\r\n        <table className=\"table table-hover text-center\">\r\n          <thead>\r\n            <tr>{ths}</tr>\r\n          </thead>\r\n          <tbody>{trs}</tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n}\r\n}\r\n\r\nconst mapStateToProps = ({\r\nlabels,\r\ncandidates,\r\nmask,\r\nattributes,\r\nnumLeftPoints,\r\nmode,\r\nscores\r\n}) => ({\r\nlabels,\r\ncandidates,\r\nmask,\r\nattributes,\r\nnumLeftPoints,\r\nmode,\r\nscores\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\nshowResult: () => {\r\ndispatch(setActiveComponent(\"Result\"));\r\n},\r\nsetLeftPoints: indices => {\r\ndispatch(setLeftPoints(indices));\r\n},\r\nsetScore: scores => {\r\n  dispatch(setScore(scores));\r\n},\r\nprunePoints: (indices, step) => {\r\ndispatch(prunePoints(indices, step));\r\n},\r\nupdateConvexHull: vertices => {\r\ndispatch(updateConvexHull(vertices));\r\n}\r\n});\r\n\r\nexport default connect(\r\nmapStateToProps,\r\nmapDispatchToProps\r\n)(Question);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  FlexibleXYPlot,\n  XAxis,\n  YAxis,\n  Hint,\n  VerticalBarSeries,\n  ChartLabel\n} from \"react-vis\";\n\n// a histogram to show the number of cars left vs the number of questions asked.\nclass Histogram extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hintValue: null\n    };\n  }\n\n  _onMouseLeave = () => {\n    this.setState({\n      hintValue: null\n    });\n  };\n\n  _onNearestX = (value, { index }) => {\n    this.setState({\n      hintValue: this.props.data[index]\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h4>No. of Cars Left vs. No. of Questions Asked</h4>\n        <div style={{ width: \"25rem\", height: \"25rem\" }}>\n          <FlexibleXYPlot onMouseLeave={this._onMouseLeave}>\n            <XAxis\n              tickValues={this.props.data.map((val, idx) => idx)}\n              tickFormat={value => value.toString()}\n              style={{\n                ticks: { fill: \"black\" }\n              }}\n            />\n            <YAxis\n              style={{\n                ticks: { fill: \"black\" }\n              }}\n            />\n            <ChartLabel\n              text=\"Question No.\"\n              includeMargin={false}\n              xPercent={0.82}\n              yPercent={1.06}\n              style={{\n                style: { fill: \"black\" }\n              }}\n            />\n            <ChartLabel\n              text=\"No. of Cars Left\"\n              includeMargin={false}\n              xPercent={-0.01}\n              yPercent={0.05}\n              style={{\n                transform: \"rotate(-90)\",\n                textAnchor: \"end\",\n                style: { fill: \"black\" }\n              }}\n            />\n            <VerticalBarSeries\n              color=\"rgb(0, 123, 255)\"\n              onNearestX={this._onNearestX}\n              data={this.props.data}\n              animation\n            />\n            {this.state.hintValue && (\n              <Hint value={this.state.hintValue}>\n                <p style={{ color: \"black\" }}>\n                  Q{this.state.hintValue.x}: {this.state.hintValue.y} Cars Left\n                </p>\n              </Hint>\n            )}\n          </FlexibleXYPlot>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ numLeftPoints }) => ({\n  data: numLeftPoints.map((num, i) => ({ x: i, y: num }))\n});\n\nexport default connect(mapStateToProps)(Histogram);\n","import * as THREE from \"three\";\nwindow.THREE = THREE;\nrequire(\"three/examples/js/controls/OrbitControls\");\nrequire(\"three/examples/js/QuickHull\");\nrequire(\"three/examples/js/geometries/ConvexGeometry\");\n\nexport default THREE;\n","import React from \"react\";\nimport THREE from \"./three\";\n\nconst SCALE = 100;\nconst FACTOR = 10; // font size = SCALE / FACTOR\n\n// the convex hull of the preference space\nclass ConvexHull extends React.Component {\n  componentDidMount() {\n    const width = this.mount.clientWidth;\n    const height = this.mount.clientHeight;\n\n    this.scene = new THREE.Scene();\n\n    this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n    this.camera.position.set(1.5 * SCALE, 1.5 * SCALE, 0.5 * SCALE);\n    this.camera.up.set(0, 0, 1);\n    this.controls = new THREE.OrbitControls(this.camera, this.mount);\n    this.controls.update();\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.setClearColor(0xffffff);\n    this.renderer.setSize(width, height);\n    this.mount.appendChild(this.renderer.domElement);\n    this.addAxes();\n    this.drawGeometry();\n    this.start();\n  }\n\n  drawGeometry = () => {\n    if (this.props.vertices.length < 4) return;\n    const points = this.props.vertices.map(vertex => {\n      const scaled_vertex = vertex.map(x => x * SCALE);\n      return new THREE.Vector3(...scaled_vertex);\n    });\n    const geometry = new THREE.ConvexGeometry(points);\n    const material = new THREE.MeshBasicMaterial({\n      color: 0xff0000,\n      //shading: THREE.FlatShading,\n      polygonOffset: true,\n      polygonOffsetFactor: 1, // positive value pushes polygon further away\n      polygonOffsetUnits: 1,\n      opacity: 0.5,\n      transparent: true\n    });\n    this.mesh = new THREE.Mesh(geometry, material);\n    const geo = new THREE.EdgesGeometry(geometry); // or WireframeGeometry\n    const mat = new THREE.LineBasicMaterial({ color: 0x000000, linewidth: 2 });\n    const wireframe = new THREE.LineSegments(geo, mat);\n    this.mesh.add(wireframe);\n    this.scene.add(this.mesh);\n  };\n\n  addAxes = () => {\n    const axes = new THREE.AxesHelper(1.5 * SCALE);\n    this.scene.add(axes);\n    const typeface = require(\"three/examples/fonts/helvetiker_regular.typeface.json\");\n    const font = new THREE.Font(typeface);\n\n    const numConfig = [\n      // color, position, rotation\n      [\n        0xff0000,\n        [SCALE + SCALE / (FACTOR * 2), 0, 0],\n        [Math.PI / 2, Math.PI, 0]\n      ],\n      [\n        0x00ff00,\n        [0, SCALE - SCALE / (FACTOR * 2), 0],\n        [Math.PI / 2, Math.PI / 2, 0]\n      ],\n      [\n        0x0000ff,\n        [\n          SCALE / (FACTOR * Math.sqrt(2)),\n          -SCALE / (FACTOR * Math.sqrt(2)),\n          SCALE\n        ],\n        [Math.PI / 2, (Math.PI * 3) / 4, 0]\n      ]\n    ];\n\n    numConfig.forEach(([color, position, rotation]) => {\n      const shape = font.generateShapes(\"1\", SCALE / FACTOR);\n      const geometry = new THREE.ShapeBufferGeometry(shape);\n      const mesh = new THREE.Mesh(\n        geometry,\n        new THREE.MeshBasicMaterial({\n          color: color,\n          side: THREE.DoubleSide\n        })\n      );\n      mesh.position.set(...position);\n      mesh.rotation.set(...rotation);\n      this.scene.add(mesh);\n    });\n    window.lines = [];\n    const lineConfig = [\n      [0xff0000, [SCALE, 0, 0], [0, 0, 0]],\n      [0x00ff00, [0, SCALE, 0], [0, 0, -Math.PI / 2]],\n      [0x0000ff, [0, 0, SCALE], [0, 0, -Math.PI / 2]]\n    ];\n    lineConfig.forEach(([color, position, rotation]) => {\n      const material = new THREE.LineBasicMaterial({\n        color\n      });\n      const geometry = new THREE.Geometry();\n      geometry.vertices.push(\n        new THREE.Vector3(0, 0, 0),\n        new THREE.Vector3(0, SCALE / (2 * FACTOR))\n      );\n      const line = new THREE.Line(geometry, material);\n      line.position.set(...position);\n      line.rotation.set(...rotation);\n      this.scene.add(line);\n      window.lines.push(line);\n    });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.vertices !== prevProps.vertices) {\n      if (this.mesh) {\n        this.scene.remove(this.mesh);\n        this.mesh.geometry.dispose();\n        this.mesh.material.dispose();\n      }\n      this.drawGeometry();\n    }\n  }\n\n  componentWillUnmount() {\n    this.stop();\n    this.mount.removeChild(this.renderer.domElement);\n  }\n\n  start = () => {\n    if (!this.frameId) {\n      this.frameId = window.requestAnimationFrame(this.animate);\n    }\n  };\n\n  stop = () => {\n    window.cancelAnimationFrame(this.frameId);\n  };\n\n  animate = () => {\n    this.controls.update();\n    this.renderer.render(this.scene, this.camera);\n    this.frameId = window.requestAnimationFrame(this.animate);\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: \"25rem\", height: \"25rem\" }}\n        ref={mount => {\n          this.mount = mount;\n        }}\n      />\n    );\n  }\n}\n\nexport default ConvexHull;\n","import React from \"react\";\nimport Slider from \"react-slick\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleUp, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Line({ color }) {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"2rem\",\n        alignItems: \"center\",\n        display: \"flex\"\n      }}\n    >\n      <div style={{ width: \"100%\", height: \"2px\", backgroundColor: color }} />\n    </div>\n  );\n}\n\nfunction SlideItem({ text }) {\n  return (\n    <div\n      style={{\n        height: \"2rem\",\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"center\"\n      }}\n    >\n      {text}\n    </div>\n  );\n}\n\n// show/change the selected attributes for displaying the convex hull\nclass Legend extends React.Component {\n  render() {\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      vertical: true,\n      verticalSwiping: true,\n      arrows: false,\n      swipeToSlide: true,\n      afterChange: this.props.changeStartingIndex\n    };\n    return (\n      <div\n        title=\"Click the arrows to change the selected attributes for displaying the convex hull.\"\n        style={{\n          width: \"12rem\"\n        }}\n      >\n        <div\n          style={{\n            alignItems: \"center\",\n            width: \"4rem\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\"\n          }}\n        >\n          <Line color=\"#ff0000\" />\n          <Line color=\"#00ff00\" />\n          <Line color=\"#0000ff\" />\n        </div>\n        <div\n          style={{\n            width: \"8rem\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\"\n          }}\n        >\n          <div\n            onClick={() => this.slider.slickPrev()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <FontAwesomeIcon icon={faAngleUp} />\n          </div>\n          <Slider {...settings} ref={self => (this.slider = self)}>\n            <SlideItem text=\"Price (USD)\" />\n            <SlideItem text=\"Year\" />\n            <SlideItem text=\"Power (HP)\" />\n            <SlideItem text=\"Used KM\" />\n          </Slider>\n          <div\n            onClick={() => this.slider.slickNext()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <FontAwesomeIcon icon={faAngleDown} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Legend;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport ConvexHull from \"./ConvexHull\";\nimport Legend from \"./Legend\";\n\n// to visualize the preference space.\nclass PreferenceSpace extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: 0,\n      convexHullVertices: props.vertices.map(vert => vert.slice(0, 3))\n    };\n  }\n\n  updateContextHullVertices = index => {\n    const convexHullVertices = this.props.vertices.map(vertext => {\n      const vert = [];\n      for (let i = 0; i < 3; ++i) {\n        vert.push(vertext[(i + index) % 4]);\n      }\n      return vert;\n    });\n    this.setState({ convexHullVertices });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.vertices !== prevProps.vertices) {\n      this.updateContextHullVertices(this.state.index);\n    }\n  }\n\n  changeStartingIndex = index => {\n    this.setState({ index });\n    // explicitly pass index to this.updateContextHullVertices\n    // because this.state.index is not updated immediately,\n    // i.e., this.state.index has still the old value at this line.\n    this.updateContextHullVertices(index);\n  };\n\n  render() {\n    return (\n      <div>\n        <h4>Convex Hull of Preference Space</h4>\n        <ConvexHull vertices={this.state.convexHullVertices} />\n        <div style={{ position: \"absolute\", top: \"2rem\", left: \"20rem\" }}>\n          <Legend changeStartingIndex={this.changeStartingIndex} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ vertices }) => ({ vertices });\n\nexport default connect(mapStateToProps)(PreferenceSpace);\n","import React from \"react\";\nimport Histogram from \"./Histogram\";\nimport PreferenceSpace from \"./PreferenceSpace\";\n\nfunction Visuals() {\n  return (\n    <div>\n      <h2>Visuals</h2>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-6\" style={{ minWidth: \"500px\" }}>\n          <Histogram />\n        </div>\n        <div className=\"col-6\" style={{ minWidth: \"500px\" }}>\n          <PreferenceSpace />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Visuals;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\n\r\n// statistics including the number of cars pruned/left.\r\nclass Stats extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let ths = [<th key=\"Step No.\">Step</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>);\r\n    });\r\n    const prunedTrs = this.props.prunedPoints.map(([idx, step], i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {[step, ...this.props.candidates[idx]].map((x, j) => (\r\n          <td key={j}>{x}</td>\r\n        ))}\r\n      </tr>\r\n    ));\r\n    const leftTrs = this.props.leftPoints.map((idx, i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {this.props.candidates[idx].map((x, j) => (\r\n          <td key={j}>{x}</td>\r\n        ))}\r\n      </tr>\r\n    ));\r\n    return (\r\n      <div>\r\n        <h2>Statistics</h2>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <h4>The No. of Cars Pruned: {this.props.prunedPoints.length}</h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": prunedTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: \"37rem\"\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{prunedTrs}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"col\">\r\n            <h4>\r\n              The No. of Cars Left in the Database:{\" \"}\r\n              {this.props.leftPoints.length}\r\n            </h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": leftTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: \"30rem\"\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths.slice(1)}</tr>\r\n              </thead>\r\n              <tbody>{leftTrs}</tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToPropsStats = ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n});\r\n\r\nexport default connect(mapStateToPropsStats)(Stats);\r\n","import React from \"react\";\nimport Question from \"./Question\";\nimport Visuals from \"./Visuals\";\nimport Stats from \"./Stats\";\n\nfunction Interaction() {\n  return (\n    <div>\n      <Question />\n    </div>\n  );\n}\n\nexport default Interaction;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { setActiveComponent, restart } from \"../actions\";\r\nimport Histogram from \"./Histogram\";\r\n\r\nclass Result extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ths = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        const th = <th key={attr}>{attr}</th>;\r\n        this.ths.push(th);\r\n      }\r\n    });\r\n    this.ths.push(<th key=\"chooseCheckbox\"/>);\r\n\r\n    //ranked points withpoints and ranking\r\n    this.pointsScoreRanking = [];\r\n    for(let i = 0; i < this.props.leftPoints.length; ++i)\r\n    {\r\n      let pt = [], index = this.props.leftPoints[i];\r\n      for(let j = 0; j < this.props.candidates[index].length; ++j)\r\n        pt.push(this.props.candidates[index][j]);\r\n      pt.push(this.props.scores[i]);\r\n      pt.push(i+1);\r\n      this.pointsScoreRanking.push(pt);\r\n    }\r\n\r\n    //ranked points in html\r\n    this.trs = this.props.leftPoints.map((idx, i) => (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n          {this.props.candidates[idx].map((x, j) => (\r\n              <td key={j}>{x}</td>\r\n          ))}\r\n          <td key=\"chooseCheckbox\"/>\r\n        </tr>\r\n    ));\r\n\r\n    //points for presenting\r\n    const top = [this.trs[0]];\r\n    const top1small = [], top1large = [];\r\n    for (let i = 1; i < this.props.leftPoints.length; ++i)\r\n    {\r\n      if ((this.props.scores[0] - this.props.scores[i]) / this.props.scores[0] < 0.1)\r\n        top1small.push(this.pointsScoreRanking[i]);\r\n      else\r\n        top1large.push(this.pointsScoreRanking[i]);\r\n    }\r\n    const top1smallSample = this.pickRandom(top1small, 5);\r\n    const top1largeSample = this.pickRandom(top1large, 5);\r\n    for (let i = 0; i < top1largeSample.length; ++i)\r\n      top1smallSample.push(top1largeSample[i]);\r\n\r\n    const present = [];\r\n    for(let i = 0; i < this.props.leftPoints.length; ++i)\r\n    {\r\n      present.push(this.pointsScoreRanking[i].map((x, j) => { return (x); }));\r\n      present.push(\"\\n\");\r\n    }\r\n\r\n    let checkboxValues = {};\r\n    for (let i = 0; i < 10; i++) {\r\n      checkboxValues[`myCheckbox${i}`] = false;\r\n    }\r\n\r\n    this.state = {\r\n      intro: \"Here is your favorite car.\",\r\n      inst: \"Please compare your favorite car and the following cars and indicate if you are interested in the following cars?\",\r\n      ths: this.ths,\r\n      top: top,\r\n      topSample: top1smallSample,\r\n      output: present,\r\n      checkboxValues: checkboxValues\r\n    };\r\n\r\n\r\n  }\r\n\r\n  pickRandom = (arr, n) => {\r\n    const arrCopy = [...arr];\r\n    if (arrCopy.length <= n)\r\n      return arrCopy;\r\n    // Shuffle array\r\n    for (let i = arrCopy.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [arrCopy[i], arrCopy[j]] = [arrCopy[j], arrCopy[i]]; // ES6 array element swap\r\n    }\r\n    return arrCopy.slice(0, n);\r\n  };\r\n\r\n  handleCheckboxChange(event) {\r\n    const { id, checked } = event.target;\r\n    this.setState(prevState => ({\r\n      checkboxValues: {\r\n        ...prevState.checkboxValues,\r\n        [id]: checked\r\n      }\r\n    }));\r\n    console.log(this.state.checkboxValues);\r\n  }\r\n\r\n  downloadFile = index => {\r\n    if (index === 1) {\r\n      //output\r\n      this.setState(prevState => ({\r\n        output: [\r\n          ...prevState.output,\r\n          \"\\n\\n\\n\\nTOP-1\\n\\n\",\r\n          ...this.state.topSample.map((item, i) => [\r\n            item.map(x => x),\r\n            prevState.checkboxValues[`myCheckbox${i}`],\r\n            \"\\n\",\r\n          ]),\r\n        ]\r\n      }), () => {\r\n        console.log(this.state.checkboxValues); // Now this will log the updated state\r\n      });\r\n\r\n      let checkboxValues = {};\r\n      for (let i = 0; i < 10; i++) {\r\n        checkboxValues[`myCheckbox${i}`] = false;\r\n      }\r\n      this.setState({\r\n        checkboxValues: checkboxValues\r\n      });\r\n\r\n      //top-5 points\r\n      const top5 = [];\r\n      for(let i = 0; i < 5; ++i)\r\n        top5.push(this.trs[i]);\r\n      //obtain the index\r\n      const top5small = [], top5large = [];\r\n      for (let i = 5; i < this.props.leftPoints.length; ++i) {\r\n        if ((this.props.scores[4] - this.props.scores[i]) / this.props.scores[4] < 0.1)\r\n          top5small.push(this.pointsScoreRanking[i]);\r\n        else\r\n          top5large.push(this.pointsScoreRanking[i]);\r\n      }\r\n      const top5smallSample = this.pickRandom(top5small, 5);\r\n      const top5largeSample = this.pickRandom(top5large, 5);\r\n      for (let i = 0; i < top5largeSample.length; ++i)\r\n        top5smallSample.push(top5largeSample[i]);\r\n      this.setState({\r\n        intro: \"Here are your top-5 favorite cars.\",\r\n        inst: \"Please compare your favorite top-5 cars and the following cars \\n and indicate if you are interested in the following cars?\",\r\n        top: top5,\r\n        topSample: top5smallSample\r\n      });\r\n    }\r\n    else if(index === 5) {\r\n      //output\r\n      this.state.output.push(\"\\n\\n\\n\\nTOP-5\\n\\n\")\r\n      for(let i = 0; i < this.state.topSample.length; ++i)\r\n      {\r\n        this.state.output.push(this.state.topSample[i].map(x => { return (x); }));\r\n        this.state.output.push(this.state.checkboxValues[`myCheckbox${i}`]); //preferred default\r\n        this.state.output.push(\"\\n\");\r\n      }\r\n      let checkboxValues = {};\r\n      for (let i = 0; i < 10; i++) {\r\n        checkboxValues[`myCheckbox${i}`] = false;\r\n      }\r\n      this.setState({\r\n        checkboxValues: checkboxValues\r\n      });\r\n\r\n      //top-10 points\r\n      const top10 = [];\r\n      for (let i = 0; i < 10; ++i)\r\n        top10.push(this.trs[i]);\r\n      //obtain the index\r\n      const top10small = [], top10large = [];\r\n      for (let i = 10; i < this.props.leftPoints.length; ++i)\r\n      {\r\n        if ((this.props.scores[9] - this.props.scores[i]) / this.props.scores[9] < 0.1)\r\n          top10small.push(this.pointsScoreRanking[i]);\r\n        else\r\n          top10large.push(this.pointsScoreRanking[i]);\r\n      }\r\n      const top10smallSample = this.pickRandom(top10small, 5);\r\n      const top10largeSample = this.pickRandom(top10large, 5);\r\n      for (let i = 0; i < top10largeSample.length; ++i)\r\n        top10smallSample.push(top10largeSample[i]);\r\n      this.setState({\r\n        intro: \"Here are your top-10 favorite cars.\",\r\n        inst: \"Please compare your favorite top-10 cars and the following cars \\n and indicate if you are interested in the following cars?\",\r\n        top: top10,\r\n        topSample: top10smallSample\r\n      });\r\n    }\r\n    else\r\n    {\r\n      //output\r\n      this.state.output.push(\"\\n\\n\\n\\nTOP-10\\n\\n\")\r\n      for(let i = 0; i < this.state.topSample.length; ++i)\r\n      {\r\n        this.state.output.push(this.state.topSample[i].map(x => { return (x); }));\r\n        this.state.output.push(this.state.checkboxValues[`myCheckbox${i}`]); //preferred default\r\n        this.state.output.push(\"\\n\");\r\n      }\r\n\r\n      let blob = new Blob([this.state.output], {type: 'text/plain'});\r\n      let url = URL.createObjectURL(blob);\r\n      let downloadLink = document.createElement('a');\r\n      downloadLink.href = url;\r\n      downloadLink.download = 'sample.txt'; // 指定下载文件及类型\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n      this.props.showEnd();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const topPresentwithbox = this.state.topSample.map((idx, i) => (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n          <td key={0}>{idx[0]}</td>\r\n          <td key={1}>{idx[1]}</td>\r\n          <td key={2}>{idx[2]}</td>\r\n          <td key={3}>{idx[3]}</td>\r\n          <td>\r\n            <input\r\n                type=\"checkbox\"\r\n                id={`myCheckbox${i}`}\r\n                name={`myCheckbox${i}`}\r\n                onChange={this.handleCheckboxChange.bind(this)}\r\n                checked={this.state.checkboxValues[`myCheckbox${i}`]}\r\n            />\r\n          </td>\r\n        </tr>\r\n    ));\r\n\r\n    return (\r\n        <div>\r\n          <div className=\"justify-content-center\">\r\n            <h4>{this.state.intro}</h4>\r\n            <table className={classNames(\"table\", \"table-hover\", {\r\n                     \"table-fixed\": this.trs.length > 7\r\n                   })}\r\n                   style={{\r\n                     maxWidth: \"40rem\",\r\n                     margin: \"auto\"\r\n                   }}>\r\n              <thead>\r\n              <tr>{this.ths}</tr>\r\n              </thead>\r\n              <tbody>{this.state.top}</tbody>\r\n            </table>\r\n            <br></br>\r\n            <h5>{this.state.inst}</h5>\r\n            <table\r\n                className={classNames(\"table\", \"table-hover\", {\r\n                  \"table-fixed\": this.trs.length > 7\r\n                })}\r\n                style={{\r\n                  maxWidth: \"40rem\",\r\n                  margin: \"auto\"\r\n                }}\r\n            >\r\n              <thead>\r\n              <tr>{this.ths}</tr>\r\n              </thead>\r\n              <tbody>{topPresentwithbox}</tbody>\r\n            </table>\r\n            <br></br>\r\n            <div>\r\n              <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  style={{width: \"8rem\"}}\r\n                  onClick={() => this.downloadFile(this.state.top.length)}>\r\n                Finish\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  scores\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  scores\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  showEnd: () => {\r\n    dispatch(setActiveComponent(\"End\"));\r\n    dispatch(restart());\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Result);\r\n","import React from \"react\";\nimport {\n    setActiveComponent,\n    setCandidates,\n    toggleMask,\n    changeMode\n} from \"../actions\";\nimport { connect } from \"react-redux\";\nimport { selectCandidates } from \"../utils\";\n\n\n\n// the welcome scene containing a brief introduction and a table to obtain the user's input\nclass End extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <div className=\"text-center m-auto\" style={{ maxWidth: \"50rem\" }}>\n                <h1>Thanks for Your Participation!</h1>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({ attributes, mask, points, mode }) => ({\n    attributes,\n    mask,\n    points,\n    mode\n});\n\nconst mapDispatchToProps = dispatch => ({\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(End);\n","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport Interaction from \"./Interaction\";\r\nimport Result from \"./Result\";\r\nimport End from \"./End\"\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction App({ activeComponent }) {\r\n  switch (activeComponent) {\r\n    case \"Welcome\":\r\n      return <Welcome />;\r\n    case \"Interaction\":\r\n      return <Interaction />;\r\n    case \"Result\":\r\n      return <Result />;\r\n    case \"End\":\r\n      return <End />;\r\n    default:\r\n      return <div />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ activeComponent }) => ({\r\n  activeComponent\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./components/App\";\r\nimport { loadDataset } from \"./utils\";\r\n\r\nwindow.Module = {\r\n  onRuntimeInitialized: async function() {\r\n    const [points, labels] = await loadDataset(\r\n      \"./datasets/cars.txt\",\r\n      \"./datasets/labelsOfCars.txt\"\r\n    );\r\n    const attributes = [\r\n      [\"Price (USD)\", { low: 1000, high: 50000, smallerBetter: true }],\r\n      [\"Year\", { low: 2001, high: 2017, smallerBetter: false }],\r\n      [\"Power (HP)\", { low: 50, high: 400, smallerBetter: false }],\r\n      [\"Used KM\", { low: 10000, high: 150000, smallerBetter: true }]\r\n    ];\r\n    const mask = {};\r\n    attributes.forEach(([attr, config]) => {\r\n      mask[attr] = 1;\r\n    });\r\n\r\n    const store = createStore(\r\n      rootReducer,\r\n      { points, labels, attributes, mask }\r\n      // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n\r\n    render(\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>,\r\n      document.getElementById(\"root\")\r\n    );\r\n  }\r\n};\r\n\r\n//////动态创建了一个 <script> 标签，并将其添加到文档的 <body> 元素中，用于异步加载一个名为 \"web.js\" 的 JavaScript 文件。这样可以在页面加载时并行地加载 JavaScript 代码，从而提高页面的性能和响应速度。\r\nconst script = document.createElement(\"script\");\r\nscript.src = \"run.js\";\r\nscript.async = true;\r\ndocument.body.appendChild(script);\r\n"],"sourceRoot":""}